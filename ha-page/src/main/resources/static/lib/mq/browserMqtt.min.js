/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 @license  MIT
 Determine if an object is a Buffer

 @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 @license  MIT
 https://mths.be/punycode v1.4.1 by @mathias */
(function(O){"object"===typeof exports&&"undefined"!==typeof module?module.exports=O():"function"===typeof define&&define.amd?define([],O):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).mqtt=O()})(function(){return function g(m,k,e){function b(a,d){if(!k[a]){if(!m[a]){var c="function"==typeof require&&require;if(!d&&c)return c(a,!0);if(f)return f(a,!0);c=Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c;}c=k[a]={exports:{}};
m[a][0].call(c.exports,function(d){var c=m[a][1][d];return b(c?c:d)},c,c.exports,g,m,k,e)}return k[a].exports}for(var f="function"==typeof require&&require,c=0;c<e.length;c++)b(e[c]);return b}({1:[function(g,m,k){function e(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function b(a,b,c){for(var d=[],q=b;q<c;q+=3)b=(a[q]<<16)+(a[q+1]<<8)+a[q+2],d.push(f[b>>18&63]+f[b>>12&63]+f[b>>6&63]+f[b&63]);return d.join("")}k.byteLength=
function(a){return 3*a.length/4-e(a)};k.toByteArray=function(b){var d=b.length;var f=e(b);var g=new a(3*d/4-f);var k=0<f?d-4:d;var m=0;for(d=0;d<k;d+=4){var u=c[b.charCodeAt(d)]<<18|c[b.charCodeAt(d+1)]<<12|c[b.charCodeAt(d+2)]<<6|c[b.charCodeAt(d+3)];g[m++]=u>>16&255;g[m++]=u>>8&255;g[m++]=u&255}2===f?(u=c[b.charCodeAt(d)]<<2|c[b.charCodeAt(d+1)]>>4,g[m++]=u&255):1===f&&(u=c[b.charCodeAt(d)]<<10|c[b.charCodeAt(d+1)]<<4|c[b.charCodeAt(d+2)]>>2,g[m++]=u>>8&255,g[m++]=u&255);return g};k.fromByteArray=
function(a){for(var c=a.length,d=c%3,e="",g=[],k=0,m=c-d;k<m;k+=16383)g.push(b(a,k,k+16383>m?m:k+16383));1===d?(a=a[c-1],e+=f[a>>2],e+=f[a<<4&63],e+="=="):2===d&&(a=(a[c-2]<<8)+a[c-1],e+=f[a>>10],e+=f[a>>4&63],e+=f[a<<2&63],e+="=");g.push(e);return g.join("")};var f=[],c=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array;for(g=0;64>g;++g)f[g]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g],c["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(g)]=
g;c[45]=62;c[95]=63},{}],2:[function(g,m,k){},{}],3:[function(g,m,k){function e(h){if(h>L)throw new RangeError("Invalid typed array length");h=new Uint8Array(h);h.__proto__=b.prototype;return h}function b(h,n,J){if("number"===typeof h){if("string"===typeof n)throw Error("If encoding is specified then the first argument must be a string");return a(h)}return f(h,n,J)}function f(h,n,a){if("number"===typeof h)throw new TypeError('"value" argument must not be a number');if(h instanceof ArrayBuffer){if(0>
n||h.byteLength<n)throw new RangeError("'offset' is out of bounds");if(h.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");h=void 0===n&&void 0===a?new Uint8Array(h):void 0===a?new Uint8Array(h,n):new Uint8Array(h,n,a);h.__proto__=b.prototype;return h}if("string"===typeof h){var l=n;if("string"!==typeof l||""===l)l="utf8";if(!b.isEncoding(l))throw new TypeError('"encoding" must be a valid string encoding');n=A(h,l)|0;a=e(n);h=a.write(h,l);h!==n&&(a=a.slice(0,h));return a}return q(h)}
function c(h){if("number"!==typeof h)throw new TypeError('"size" argument must be a number');if(0>h)throw new RangeError('"size" argument must not be negative');}function a(h){c(h);return e(0>h?0:w(h)|0)}function d(h){for(var n=0>h.length?0:w(h.length)|0,a=e(n),l=0;l<n;l+=1)a[l]=h[l]&255;return a}function q(h){if(b.isBuffer(h)){var n=w(h.length)|0,a=e(n);if(0===a.length)return a;h.copy(a,0,0,n);return a}if(h){if("function"===typeof ArrayBuffer.isView&&ArrayBuffer.isView(h)||"length"in h)return(n=
"number"!==typeof h.length)||(n=h.length,n=n!==n),n?e(0):d(h);if("Buffer"===h.type&&Array.isArray(h.data))return d(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function w(h){if(h>=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");return h|0}function A(h,n){if(b.isBuffer(h))return h.length;if("function"===typeof ArrayBuffer.isView&&ArrayBuffer.isView(h)||h instanceof ArrayBuffer)return h.byteLength;
"string"!==typeof h&&(h=""+h);var a=h.length;if(0===a)return 0;for(var l=!1;;)switch(n){case "ascii":case "latin1":case "binary":return a;case "utf8":case "utf-8":case void 0:return z(h).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*a;case "hex":return a>>>1;case "base64":return D.toByteArray(G(h)).length;default:if(l)return z(h).length;n=(""+n).toLowerCase();l=!0}}function C(h,n,a){var l=!1;if(void 0===n||0>n)n=0;if(n>this.length)return"";if(void 0===a||a>this.length)a=
this.length;if(0>=a)return"";a>>>=0;n>>>=0;if(a<=n)return"";for(h||(h="utf8");;)switch(h){case "hex":h=n;n=a;a=this.length;if(!h||0>h)h=0;if(!n||0>n||n>a)n=a;l="";for(a=h;a<n;++a)h=l,l=this[a],l=16>l?"0"+l.toString(16):l.toString(16),l=h+l;return l;case "utf8":case "utf-8":return r(this,n,a);case "ascii":h="";for(a=Math.min(this.length,a);n<a;++n)h+=String.fromCharCode(this[n]&127);return h;case "latin1":case "binary":h="";for(a=Math.min(this.length,a);n<a;++n)h+=String.fromCharCode(this[n]);return h;
case "base64":return n=0===n&&a===this.length?D.fromByteArray(this):D.fromByteArray(this.slice(n,a)),n;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":n=this.slice(n,a);a="";for(h=0;h<n.length;h+=2)a+=String.fromCharCode(n[h]+256*n[h+1]);return a;default:if(l)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase();l=!0}}function x(h,n,a){var l=h[n];h[n]=h[a];h[a]=l}function u(h,n,a,l,c){if(0===h.length)return-1;"string"===typeof a?(l=a,a=0):2147483647<a?a=2147483647:-2147483648>
a&&(a=-2147483648);a=+a;a!==a&&(a=c?0:h.length-1);0>a&&(a=h.length+a);if(a>=h.length){if(c)return-1;a=h.length-1}else if(0>a)if(c)a=0;else return-1;"string"===typeof n&&(n=b.from(n,l));if(b.isBuffer(n))return 0===n.length?-1:t(h,n,a,l,c);if("number"===typeof n)return n&=255,"function"===typeof Uint8Array.prototype.indexOf?c?Uint8Array.prototype.indexOf.call(h,n,a):Uint8Array.prototype.lastIndexOf.call(h,n,a):t(h,[n],a,l,c);throw new TypeError("val must be string, number or Buffer");}function t(h,
n,a,l,b){function c(h,n){return 1===d?h[n]:h.readUInt16BE(n*d)}var d=1,J=h.length,N=n.length;if(void 0!==l&&(l=String(l).toLowerCase(),"ucs2"===l||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(2>h.length||2>n.length)return-1;d=2;J/=2;N/=2;a/=2}if(b)for(l=-1;a<J;a++)if(c(h,a)===c(n,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===N)return l*d}else-1!==l&&(a-=a-l),l=-1;else for(a+N>J&&(a=J-N);0<=a;a--){J=!0;for(l=0;l<N;l++)if(c(h,a+l)!==c(n,l)){J=!1;break}if(J)return a}return-1}function r(h,n,a){a=Math.min(h.length,
a);for(var l=[];n<a;){var b=h[n],c=null,d=239<b?4:223<b?3:191<b?2:1;if(n+d<=a)switch(d){case 1:128>b&&(c=b);break;case 2:var J=h[n+1];128===(J&192)&&(b=(b&31)<<6|J&63,127<b&&(c=b));break;case 3:J=h[n+1];var p=h[n+2];128===(J&192)&&128===(p&192)&&(b=(b&15)<<12|(J&63)<<6|p&63,2047<b&&(55296>b||57343<b)&&(c=b));break;case 4:J=h[n+1];p=h[n+2];var f=h[n+3];128===(J&192)&&128===(p&192)&&128===(f&192)&&(b=(b&15)<<18|(J&63)<<12|(p&63)<<6|f&63,65535<b&&1114112>b&&(c=b))}null===c?(c=65533,d=1):65535<c&&(c-=
65536,l.push(c>>>10&1023|55296),c=56320|c&1023);l.push(c);n+=d}h=l.length;if(h<=M)l=String.fromCharCode.apply(String,l);else{a="";for(n=0;n<h;)a+=String.fromCharCode.apply(String,l.slice(n,n+=M));l=a}return l}function y(h,n,a){if(0!==h%1||0>h)throw new RangeError("offset is not uint");if(h+n>a)throw new RangeError("Trying to access beyond buffer length");}function B(h,a,c,l,d,p){if(!b.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>d||a<p)throw new RangeError('"value" argument is out of bounds');
if(c+l>h.length)throw new RangeError("Index out of range");}function p(h,a,b,l,c,d){if(b+l>h.length)throw new RangeError("Index out of range");if(0>b)throw new RangeError("Index out of range");}function K(h,a,b,l,c){a=+a;b>>>=0;c||p(h,a,b,4,3.4028234663852886E38,-3.4028234663852886E38);I.write(h,a,b,l,23,4);return b+4}function v(h,a,b,l,c){a=+a;b>>>=0;c||p(h,a,b,8,1.7976931348623157E308,-1.7976931348623157E308);I.write(h,a,b,l,52,8);return b+8}function G(h){h=h.trim().replace(E,"");if(2>h.length)return"";
for(;0!==h.length%4;)h+="=";return h}function z(h,a){a=a||Infinity;for(var n,l=h.length,b=null,c=[],d=0;d<l;++d){n=h.charCodeAt(d);if(55295<n&&57344>n){if(!b){if(56319<n){-1<(a-=3)&&c.push(239,191,189);continue}else if(d+1===l){-1<(a-=3)&&c.push(239,191,189);continue}b=n;continue}if(56320>n){-1<(a-=3)&&c.push(239,191,189);b=n;continue}n=(b-55296<<10|n-56320)+65536}else b&&-1<(a-=3)&&c.push(239,191,189);b=null;if(128>n){if(0>--a)break;c.push(n)}else if(2048>n){if(0>(a-=2))break;c.push(n>>6|192,n&63|
128)}else if(65536>n){if(0>(a-=3))break;c.push(n>>12|224,n>>6&63|128,n&63|128)}else if(1114112>n){if(0>(a-=4))break;c.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw Error("Invalid code point");}return c}function F(h){for(var a=[],b=0;b<h.length;++b)a.push(h.charCodeAt(b)&255);return a}function H(h,a,b,l){for(var n=0;n<l&&!(n+b>=a.length||n>=h.length);++n)a[n+b]=h[n];return n}var D=g("base64-js"),I=g("ieee754");k.Buffer=b;k.SlowBuffer=function(h){+h!=h&&(h=0);return b.alloc(+h)};k.INSPECT_MAX_BYTES=
50;var L=2147483647;k.kMaxLength=L;b.TYPED_ARRAY_SUPPORT=function(){try{var h=new Uint8Array(1);h.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===h.foo()}catch(n){return!1}}();b.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");"undefined"!==typeof Symbol&&Symbol.species&&
b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});b.poolSize=8192;b.from=function(h,a,b){return f(h,a,b)};b.prototype.__proto__=Uint8Array.prototype;b.__proto__=Uint8Array;b.alloc=function(h,a,b){c(h);h=0>=h?e(h):void 0!==a?"string"===typeof b?e(h).fill(a,b):e(h).fill(a):e(h);return h};b.allocUnsafe=function(h){return a(h)};b.allocUnsafeSlow=function(h){return a(h)};b.isBuffer=function(h){return null!=h&&!0===h._isBuffer};b.compare=
function(h,a){if(!b.isBuffer(h)||!b.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(h===a)return 0;for(var n=h.length,l=a.length,c=0,d=Math.min(n,l);c<d;++c)if(h[c]!==a[c]){n=h[c];l=a[c];break}return n<l?-1:l<n?1:0};b.isEncoding=function(h){switch(String(h).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};b.concat=function(h,a){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');
if(0===h.length)return b.alloc(0);var n;if(void 0===a)for(n=a=0;n<h.length;++n)a+=h[n].length;var l=b.allocUnsafe(a),c=0;for(n=0;n<h.length;++n){var d=h[n];if(!b.isBuffer(d))throw new TypeError('"list" argument must be an Array of Buffers');d.copy(l,c);c+=d.length}return l};b.byteLength=A;b.prototype._isBuffer=!0;b.prototype.swap16=function(){var h=this.length;if(0!==h%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<h;a+=2)x(this,a,a+1);return this};b.prototype.swap32=
function(){var h=this.length;if(0!==h%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<h;a+=4)x(this,a,a+3),x(this,a+1,a+2);return this};b.prototype.swap64=function(){var h=this.length;if(0!==h%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<h;a+=8)x(this,a,a+7),x(this,a+1,a+6),x(this,a+2,a+5),x(this,a+3,a+4);return this};b.prototype.toString=function(){var h=this.length;return 0===h?"":0===arguments.length?r(this,0,h):C.apply(this,
arguments)};b.prototype.equals=function(h){if(!b.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:0===b.compare(this,h)};b.prototype.inspect=function(){var h="",a=k.INSPECT_MAX_BYTES;0<this.length&&(h=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(h+=" ... "));return"<Buffer "+h+">"};b.prototype.compare=function(h,a,c,l,d){if(!b.isBuffer(h))throw new TypeError("Argument must be a Buffer");void 0===a&&(a=0);void 0===c&&(c=h?h.length:0);void 0===l&&
(l=0);void 0===d&&(d=this.length);if(0>a||c>h.length||0>l||d>this.length)throw new RangeError("out of range index");if(l>=d&&a>=c)return 0;if(l>=d)return-1;if(a>=c)return 1;a>>>=0;c>>>=0;l>>>=0;d>>>=0;if(this===h)return 0;var n=d-l,p=c-a,f=Math.min(n,p);l=this.slice(l,d);h=h.slice(a,c);for(a=0;a<f;++a)if(l[a]!==h[a]){n=l[a];p=h[a];break}return n<p?-1:p<n?1:0};b.prototype.includes=function(h,a,b){return-1!==this.indexOf(h,a,b)};b.prototype.indexOf=function(h,a,b){return u(this,h,a,b,!0)};b.prototype.lastIndexOf=
function(h,a,b){return u(this,h,a,b,!1)};b.prototype.write=function(h,a,b,l){if(void 0===a)l="utf8",b=this.length,a=0;else if(void 0===b&&"string"===typeof a)l=a,b=this.length,a=0;else if(isFinite(a))a>>>=0,isFinite(b)?(b>>>=0,void 0===l&&(l="utf8")):(l=b,b=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n=this.length-a;if(void 0===b||b>n)b=n;if(0<h.length&&(0>b||0>a)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");
l||(l="utf8");for(n=!1;;)switch(l){case "hex":a:{a=Number(a)||0;l=this.length-a;b?(b=Number(b),b>l&&(b=l)):b=l;l=h.length;if(0!==l%2)throw new TypeError("Invalid hex string");b>l/2&&(b=l/2);for(l=0;l<b;++l){n=parseInt(h.substr(2*l,2),16);if(n!==n){h=l;break a}this[a+l]=n}h=l}return h;case "utf8":case "utf-8":return H(z(h,this.length-a),this,a,b);case "ascii":return H(F(h),this,a,b);case "latin1":case "binary":return H(F(h),this,a,b);case "base64":return H(D.toByteArray(G(h)),this,a,b);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":l=
h;n=this.length-a;for(var c=[],d=0;d<l.length&&!(0>(n-=2));++d){var p=l.charCodeAt(d);h=p>>8;p%=256;c.push(p);c.push(h)}return H(c,this,a,b);default:if(n)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase();n=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;b.prototype.slice=function(h,a){var n=this.length;h=~~h;a=void 0===a?n:~~a;0>h?(h+=n,0>h&&(h=0)):h>n&&(h=n);0>a?(a+=n,0>a&&(a=0)):a>n&&(a=n);a<h&&(a=h);n=this.subarray(h,
a);n.__proto__=b.prototype;return n};b.prototype.readUIntLE=function(h,a,b){h>>>=0;a>>>=0;b||y(h,a,this.length);b=this[h];for(var n=1,c=0;++c<a&&(n*=256);)b+=this[h+c]*n;return b};b.prototype.readUIntBE=function(h,a,b){h>>>=0;a>>>=0;b||y(h,a,this.length);b=this[h+--a];for(var n=1;0<a&&(n*=256);)b+=this[h+--a]*n;return b};b.prototype.readUInt8=function(a,b){a>>>=0;b||y(a,1,this.length);return this[a]};b.prototype.readUInt16LE=function(a,b){a>>>=0;b||y(a,2,this.length);return this[a]|this[a+1]<<8};
b.prototype.readUInt16BE=function(a,b){a>>>=0;b||y(a,2,this.length);return this[a]<<8|this[a+1]};b.prototype.readUInt32LE=function(a,b){a>>>=0;b||y(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};b.prototype.readUInt32BE=function(a,b){a>>>=0;b||y(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};b.prototype.readIntLE=function(a,b,c){a>>>=0;b>>>=0;c||y(a,b,this.length);c=this[a];for(var h=1,n=0;++n<b&&(h*=256);)c+=this[a+n]*h;c>=128*h&&
(c-=Math.pow(2,8*b));return c};b.prototype.readIntBE=function(a,b,c){a>>>=0;b>>>=0;c||y(a,b,this.length);c=b;for(var h=1,n=this[a+--c];0<c&&(h*=256);)n+=this[a+--c]*h;n>=128*h&&(n-=Math.pow(2,8*b));return n};b.prototype.readInt8=function(a,b){a>>>=0;b||y(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};b.prototype.readInt16LE=function(a,b){a>>>=0;b||y(a,2,this.length);var h=this[a]|this[a+1]<<8;return h&32768?h|4294901760:h};b.prototype.readInt16BE=function(a,b){a>>>=0;b||y(a,2,this.length);
var h=this[a+1]|this[a]<<8;return h&32768?h|4294901760:h};b.prototype.readInt32LE=function(a,b){a>>>=0;b||y(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};b.prototype.readInt32BE=function(a,b){a>>>=0;b||y(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};b.prototype.readFloatLE=function(a,b){a>>>=0;b||y(a,4,this.length);return I.read(this,a,!0,23,4)};b.prototype.readFloatBE=function(a,b){a>>>=0;b||y(a,4,this.length);return I.read(this,a,!1,23,4)};
b.prototype.readDoubleLE=function(a,b){a>>>=0;b||y(a,8,this.length);return I.read(this,a,!0,52,8)};b.prototype.readDoubleBE=function(a,b){a>>>=0;b||y(a,8,this.length);return I.read(this,a,!1,52,8)};b.prototype.writeUIntLE=function(a,b,c,l){a=+a;b>>>=0;c>>>=0;l||B(this,a,b,c,Math.pow(2,8*c)-1,0);l=1;var h=0;for(this[b]=a&255;++h<c&&(l*=256);)this[b+h]=a/l&255;return b+c};b.prototype.writeUIntBE=function(a,b,c,l){a=+a;b>>>=0;c>>>=0;l||B(this,a,b,c,Math.pow(2,8*c)-1,0);l=c-1;var h=1;for(this[b+l]=a&
255;0<=--l&&(h*=256);)this[b+l]=a/h&255;return b+c};b.prototype.writeUInt8=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,1,255,0);this[b]=a&255;return b+1};b.prototype.writeUInt16LE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,2,65535,0);this[b]=a&255;this[b+1]=a>>>8;return b+2};b.prototype.writeUInt16BE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,2,65535,0);this[b]=a>>>8;this[b+1]=a&255;return b+2};b.prototype.writeUInt32LE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,4,4294967295,0);this[b+3]=a>>>24;this[b+
2]=a>>>16;this[b+1]=a>>>8;this[b]=a&255;return b+4};b.prototype.writeUInt32BE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,4,4294967295,0);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};b.prototype.writeIntLE=function(a,b,c,l){a=+a;b>>>=0;l||(l=Math.pow(2,8*c-1),B(this,a,b,c,l-1,-l));l=0;var h=1,n=0;for(this[b]=a&255;++l<c&&(h*=256);)0>a&&0===n&&0!==this[b+l-1]&&(n=1),this[b+l]=(a/h>>0)-n&255;return b+c};b.prototype.writeIntBE=function(a,b,c,l){a=+a;b>>>=0;l||(l=Math.pow(2,
8*c-1),B(this,a,b,c,l-1,-l));l=c-1;var h=1,n=0;for(this[b+l]=a&255;0<=--l&&(h*=256);)0>a&&0===n&&0!==this[b+l+1]&&(n=1),this[b+l]=(a/h>>0)-n&255;return b+c};b.prototype.writeInt8=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,1,127,-128);0>a&&(a=255+a+1);this[b]=a&255;return b+1};b.prototype.writeInt16LE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,2,32767,-32768);this[b]=a&255;this[b+1]=a>>>8;return b+2};b.prototype.writeInt16BE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,2,32767,-32768);this[b]=a>>>8;this[b+
1]=a&255;return b+2};b.prototype.writeInt32LE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,4,2147483647,-2147483648);this[b]=a&255;this[b+1]=a>>>8;this[b+2]=a>>>16;this[b+3]=a>>>24;return b+4};b.prototype.writeInt32BE=function(a,b,c){a=+a;b>>>=0;c||B(this,a,b,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};b.prototype.writeFloatLE=function(a,b,c){return K(this,a,b,!0,c)};b.prototype.writeFloatBE=function(a,b,c){return K(this,
a,b,!1,c)};b.prototype.writeDoubleLE=function(a,b,c){return v(this,a,b,!0,c)};b.prototype.writeDoubleBE=function(a,b,c){return v(this,a,b,!1,c)};b.prototype.copy=function(a,b,c,l){c||(c=0);l||0===l||(l=this.length);b>=a.length&&(b=a.length);b||(b=0);0<l&&l<c&&(l=c);if(l===c||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>l)throw new RangeError("sourceEnd out of bounds");l>
this.length&&(l=this.length);a.length-b<l-c&&(l=a.length-b+c);var h=l-c;if(this===a&&c<b&&b<l)for(l=h-1;0<=l;--l)a[l+b]=this[l+c];else if(1E3>h)for(l=0;l<h;++l)a[l+b]=this[l+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+h),b);return h};b.prototype.fill=function(a,c,d,l){if("string"===typeof a){"string"===typeof c?(l=c,c=0,d=this.length):"string"===typeof d&&(l=d,d=this.length);if(1===a.length){var h=a.charCodeAt(0);256>h&&(a=h)}if(void 0!==l&&"string"!==typeof l)throw new TypeError("encoding must be a string");
if("string"===typeof l&&!b.isEncoding(l))throw new TypeError("Unknown encoding: "+l);}else"number"===typeof a&&(a&=255);if(0>c||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c>>>=0;d=void 0===d?this.length:d>>>0;a||(a=0);if("number"===typeof a)for(l=c;l<d;++l)this[l]=a;else for(a=b.isBuffer(a)?a:new b(a,l),h=a.length,l=0;l<d-c;++l)this[l+c]=a[l%h];return this};var E=/[^+/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:5}],4:[function(g,m,k){function e(){this._events=
this._events||{};this._maxListeners=this._maxListeners||void 0}function b(b){return"function"===typeof b}function f(b){return"object"===typeof b&&null!==b}m.exports=e;e.EventEmitter=e;e.prototype._events=void 0;e.prototype._maxListeners=void 0;e.defaultMaxListeners=10;e.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};e.prototype.emit=function(c){var a;this._events||(this._events={});if("error"===
c&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){var d=arguments[1];if(d instanceof Error)throw d;var e=Error('Uncaught, unspecified "error" event. ('+d+")");e.context=d;throw e;}e=this._events[c];if(void 0===e)return!1;if(b(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),e.apply(this,d)}else if(f(e)){d=Array.prototype.slice.call(arguments,
1);var g=e.slice();e=g.length;for(a=0;a<e;a++)g[a].apply(this,d)}return!0};e.prototype.addListener=function(c,a){var d;if(!b(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,b(a.listener)?a.listener:a);this._events[c]?f(this._events[c])?this._events[c].push(a):this._events[c]=[this._events[c],a]:this._events[c]=a;f(this._events[c])&&!this._events[c].warned&&(d=void 0!==this._maxListeners?this._maxListeners:e.defaultMaxListeners)&&
0<d&&this._events[c].length>d&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),"function"===typeof console.trace&&console.trace());return this};e.prototype.on=e.prototype.addListener;e.prototype.once=function(c,a){function d(){this.removeListener(c,d);f||(f=!0,a.apply(this,arguments))}if(!b(a))throw TypeError("listener must be a function");var f=!1;d.listener=
a;this.on(c,d);return this};e.prototype.removeListener=function(c,a){if(!b(a))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;var d=this._events[c];var e=d.length;var g=-1;if(d===a||b(d.listener)&&d.listener===a)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,a);else if(f(d)){for(;0<e--;)if(d[e]===a||d[e].listener&&d[e].listener===a){g=e;break}if(0>g)return this;1===d.length?(d.length=0,delete this._events[c]):d.splice(g,
1);this._events.removeListener&&this.emit("removeListener",c,a)}return this};e.prototype.removeAllListeners=function(c){if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[c]&&delete this._events[c],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}var a=this._events[c];if(b(a))this.removeListener(c,a);else if(a)for(;a.length;)this.removeListener(c,
a[a.length-1]);delete this._events[c];return this};e.prototype.listeners=function(c){return this._events&&this._events[c]?b(this._events[c])?[this._events[c]]:this._events[c].slice():[]};e.prototype.listenerCount=function(c){if(this._events){c=this._events[c];if(b(c))return 1;if(c)return c.length}return 0};e.listenerCount=function(b,a){return b.listenerCount(a)}},{}],5:[function(g,m,k){k.read=function(e,b,f,c,a){var d=8*a-c-1;var g=(1<<d)-1,w=g>>1,k=-7;a=f?a-1:0;var m=f?-1:1,x=e[b+a];a+=m;f=x&(1<<
-k)-1;x>>=-k;for(k+=d;0<k;f=256*f+e[b+a],a+=m,k-=8);d=f&(1<<-k)-1;f>>=-k;for(k+=c;0<k;d=256*d+e[b+a],a+=m,k-=8);if(0===f)f=1-w;else{if(f===g)return d?NaN:Infinity*(x?-1:1);d+=Math.pow(2,c);f-=w}return(x?-1:1)*d*Math.pow(2,f-c)};k.write=function(e,b,f,c,a,d){var g,w=8*d-a-1,k=(1<<w)-1,m=k>>1,x=23===a?Math.pow(2,-24)-Math.pow(2,-77):0;d=c?0:d-1;var u=c?1:-1,t=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,c=k):(c=Math.floor(Math.log(b)/Math.LN2),1>b*(g=Math.pow(2,-c))&&(c--,
g*=2),b=1<=c+m?b+x/g:b+x*Math.pow(2,1-m),2<=b*g&&(c++,g/=2),c+m>=k?(b=0,c=k):1<=c+m?(b=(b*g-1)*Math.pow(2,a),c+=m):(b=b*Math.pow(2,m-1)*Math.pow(2,a),c=0));for(;8<=a;e[f+d]=b&255,d+=u,b/=256,a-=8);c=c<<a|b;for(w+=a;0<w;e[f+d]=c&255,d+=u,c/=256,w-=8);e[f+d-u]|=128*t}},{}],6:[function(g,m,k){function e(b){return!!b.constructor&&"function"===typeof b.constructor.isBuffer&&b.constructor.isBuffer(b)}m.exports=function(b){return null!=b&&(e(b)||"function"===typeof b.readFloatLE&&"function"===typeof b.slice&&
e(b.slice(0,0))||!!b._isBuffer)}},{}],7:[function(g,m,k){function e(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function f(a){if(A===setTimeout)return setTimeout(a,0);if((A===e||!A)&&setTimeout)return A=setTimeout,setTimeout(a,0);try{return A(a,0)}catch(B){try{return A.call(null,a,0)}catch(p){return A.call(this,a,0)}}}function c(a){if(C===clearTimeout)return clearTimeout(a);if((C===b||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(a);
try{return C(a)}catch(B){try{return C.call(null,a)}catch(p){return C.call(this,a)}}}function a(){u&&t&&(u=!1,t.length?x=t.concat(x):r=-1,x.length&&d())}function d(){if(!u){var b=f(a);u=!0;for(var d=x.length;d;){t=x;for(x=[];++r<d;)t&&t[r].run();r=-1;d=x.length}t=null;u=!1;c(b)}}function q(a,b){this.fun=a;this.array=b}function w(){}g=m.exports={};try{var A="function"===typeof setTimeout?setTimeout:e}catch(y){A=e}try{var C="function"===typeof clearTimeout?clearTimeout:b}catch(y){C=b}var x=[],u=!1,t,
r=-1;g.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];x.push(new q(a,b));1!==x.length||u||f(d)};q.prototype.run=function(){this.fun.apply(null,this.array)};g.title="browser";g.browser=!0;g.env={};g.argv=[];g.version="";g.versions={};g.on=w;g.addListener=w;g.once=w;g.off=w;g.removeListener=w;g.removeAllListeners=w;g.emit=w;g.prependListener=w;g.prependOnceListener=w;g.listeners=function(a){return[]};g.binding=function(a){throw Error("process.binding is not supported");
};g.cwd=function(){return"/"};g.chdir=function(a){throw Error("process.chdir is not supported");};g.umask=function(){return 0}},{}],8:[function(g,m,k){(function(e){(function(b){function f(a){throw new RangeError(K[a]);}function c(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function a(a,b){var d=a.split("@"),f="";1<d.length&&(f=d[0]+"@",a=d[1]);a=a.replace(p,".");d=a.split(".");d=c(d,b).join(".");return f+d}function d(a){for(var b=[],c=0,d=a.length,p,f;c<d;)p=a.charCodeAt(c++),55296<=p&&
56319>=p&&c<d?(f=a.charCodeAt(c++),56320==(f&64512)?b.push(((p&1023)<<10)+(f&1023)+65536):(b.push(p),c--)):b.push(p);return b}function g(a){return c(a,function(a){var b="";65535<a&&(a-=65536,b+=G(a>>>10&1023|55296),a=56320|a&1023);return b+=G(a)}).join("")}function w(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function A(a,b,c){var d=0;a=c?v(a/700):a>>1;for(a+=v(a/b);455<a;d+=36)a=v(a/35);return v(d+36*a/(a+38))}function C(a){var b=[],c=a.length,d=0,p=128,e=72,r,h;var n=a.lastIndexOf("-");0>n&&(n=0);for(r=
0;r<n;++r)128<=a.charCodeAt(r)&&f("not-basic"),b.push(a.charCodeAt(r));for(n=0<n?n+1:0;n<c;){r=d;var q=1;for(h=36;;h+=36){n>=c&&f("invalid-input");var l=a.charCodeAt(n++);l=10>l-48?l-22:26>l-65?l-65:26>l-97?l-97:36;(36<=l||l>v((2147483647-d)/q))&&f("overflow");d+=l*q;var N=h<=e?1:h>=e+26?26:h-e;if(l<N)break;l=36-N;q>v(2147483647/l)&&f("overflow");q*=l}q=b.length+1;e=A(d-r,q,0==r);v(d/q)>2147483647-p&&f("overflow");p+=v(d/q);d%=q;b.splice(d++,0,p)}return g(b)}function x(a){var b,c,p,e=[];a=d(a);var g=
a.length;var r=128;var h=0;var n=72;for(p=0;p<g;++p){var q=a[p];128>q&&e.push(G(q))}for((b=c=e.length)&&e.push("-");b<g;){var l=2147483647;for(p=0;p<g;++p)q=a[p],q>=r&&q<l&&(l=q);var N=b+1;l-r>v((2147483647-h)/N)&&f("overflow");h+=(l-r)*N;r=l;for(p=0;p<g;++p)if(q=a[p],q<r&&2147483647<++h&&f("overflow"),q==r){var k=h;for(l=36;;l+=36){q=l<=n?1:l>=n+26?26:l-n;if(k<q)break;var K=k-q;k=36-q;e.push(G(w(q+K%k,0)));k=v(K/k)}e.push(G(w(k,0)));n=A(h,N,b==c);h=0;++b}++h;++r}return e.join("")}var u="object"==
typeof k&&k&&!k.nodeType&&k,t="object"==typeof m&&m&&!m.nodeType&&m,r="object"==typeof e&&e;if(r.global===r||r.window===r||r.self===r)b=r;var y=/^xn--/,B=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,G=String.fromCharCode,z;r={version:"1.4.1",ucs2:{decode:d,encode:g},decode:C,encode:x,toASCII:function(b){return a(b,function(a){return B.test(a)?
"xn--"+x(a):a})},toUnicode:function(b){return a(b,function(a){return y.test(a)?C(a.slice(4).toLowerCase()):a})}};if(u&&t)if(m.exports==u)t.exports=r;else for(z in r)r.hasOwnProperty(z)&&(u[z]=r[z]);else b.punycode=r})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],9:[function(g,m,k){m.exports=function(b,f,c,a){c=c||"=";var d={};if("string"!==typeof b||0===b.length)return d;var g=/\+/g;b=b.split(f||"&");f=1E3;a&&"number"===
typeof a.maxKeys&&(f=a.maxKeys);a=b.length;0<f&&a>f&&(a=f);for(f=0;f<a;++f){var w=b[f].replace(g,"%20"),k=w.indexOf(c);if(0<=k){var m=w.substr(0,k);w=w.substr(k+1)}else m=w,w="";m=decodeURIComponent(m);w=decodeURIComponent(w);Object.prototype.hasOwnProperty.call(d,m)?e(d[m])?d[m].push(w):d[m]=[d[m],w]:d[m]=w}return d};var e=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],10:[function(g,m,k){function e(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],
d));return c}var b=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};m.exports=function(a,d,g,k){d=d||"&";g=g||"=";null===a&&(a=void 0);return"object"===typeof a?e(c(a),function(c){var q=encodeURIComponent(b(c))+g;return f(a[c])?e(a[c],function(a){return q+encodeURIComponent(b(a))}).join(d):q+encodeURIComponent(b(a[c]))}).join(d):k?encodeURIComponent(b(k))+g+encodeURIComponent(b(a)):""};var f=Array.isArray||
function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],11:[function(g,m,k){k.decode=k.parse=g("./decode");k.encode=k.stringify=g("./encode")},{"./decode":9,"./encode":10}],12:[function(g,m,k){function e(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function b(a,b,d){if(a&&
c.isObject(a)&&a instanceof e)return a;var p=new e;p.parse(a,b,d);return p}var f=g("punycode"),c=g("./util");k.parse=b;k.resolve=function(a,c){return b(a,!1,!0).resolve(c)};k.resolveObject=function(a,c){return a?b(a,!1,!0).resolveObject(c):c};k.format=function(a){c.isString(a)&&(a=b(a));return a instanceof e?a.format():e.prototype.format.call(a)};k.Url=e;var a=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,q=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;m="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var w=["'"].concat(m),
A=["%","/","?",";","#"].concat(w),C=["/","?","#"],x=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,t={javascript:!0,"javascript:":!0},r={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=g("querystring");e.prototype.parse=function(b,d,e){var p,g;if(!c.isString(b))throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var v=b.indexOf("?");v=-1!==v&&v<b.indexOf("#")?"?":"#";b=b.split(v);
b[0]=b[0].replace(/\\/g,"/");b=b.join(v);v=b.trim();if(!e&&1===b.split("#").length&&(b=q.exec(v)))return this.href=this.path=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=d?B.parse(this.search.substr(1)):this.search.substr(1)):d&&(this.search="",this.query={}),this;if(b=a.exec(v))b=b[0],this.protocol=g=b.toLowerCase(),v=v.substr(b.length);if(e||b||v.match(/^\/\/[^@\/]+@[^@\/]+/))!(p="//"===v.substr(0,2))||b&&r[b]||(v=v.substr(2),this.slashes=!0);if(!r[b]&&(p||b&&!y[b])){b=-1;for(e=0;e<C.length;e++)p=
v.indexOf(C[e]),-1!==p&&(-1===b||p<b)&&(b=p);p=-1===b?v.lastIndexOf("@"):v.lastIndexOf("@",b);-1!==p&&(e=v.slice(0,p),v=v.slice(p+1),this.auth=decodeURIComponent(e));b=-1;for(e=0;e<A.length;e++)p=v.indexOf(A[e]),-1!==p&&(-1===b||p<b)&&(b=p);-1===b&&(b=v.length);this.host=v.slice(0,b);v=v.slice(b);this.parseHost();this.hostname=this.hostname||"";p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p){var k=this.hostname.split(/\./);e=0;for(b=k.length;e<b;e++){var D=k[e];if(D&&
!D.match(x)){for(var I="",L=0,m=D.length;L<m;L++)I=127<D.charCodeAt(L)?I+"x":I+D[L];if(!I.match(x)){b=k.slice(0,e);e=k.slice(e+1);if(D=D.match(u))b.push(D[1]),e.unshift(D[2]);e.length&&(v="/"+e.join(".")+v);this.hostname=b.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();p||(this.hostname=f.toASCII(this.hostname));e=this.port?":"+this.port:"";this.host=(this.hostname||"")+e;this.href+=this.host;p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),
"/"!==v[0]&&(v="/"+v))}if(!t[g])for(e=0,b=w.length;e<b;e++)p=w[e],-1!==v.indexOf(p)&&(D=encodeURIComponent(p),D===p&&(D=escape(p)),v=v.split(p).join(D));e=v.indexOf("#");-1!==e&&(this.hash=v.substr(e),v=v.slice(0,e));e=v.indexOf("?");-1!==e?(this.search=v.substr(e),this.query=v.substr(e+1),d&&(this.query=B.parse(this.query)),v=v.slice(0,e)):d&&(this.search="",this.query={});v&&(this.pathname=v);y[g]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)e=this.pathname||
"",this.path=e+(this.search||"");this.href=this.format();return this};e.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",d=this.pathname||"",e=this.hash||"",f=!1,g="";this.host?f=a+this.host:this.hostname&&(f=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port));this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(g=B.stringify(this.query));a=this.search||
g&&"?"+g||"";b&&":"!==b.substr(-1)&&(b+=":");this.slashes||(!b||y[b])&&!1!==f?(f="//"+(f||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):f||(f="");e&&"#"!==e.charAt(0)&&(e="#"+e);a&&"?"!==a.charAt(0)&&(a="?"+a);d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return b+f+d+a+e};e.prototype.resolve=function(a){return this.resolveObject(b(a,!1,!0)).format()};e.prototype.resolveObject=function(a){var b;if(c.isString(a)){var d=new e;d.parse(a,!1,!0);a=d}d=new e;for(var f=Object.keys(this),
g=0;g<f.length;g++){var p=f[g];d[p]=this[p]}d.hash=a.hash;if(""===a.href)return d.href=d.format(),d;if(a.slashes&&!a.protocol){f=Object.keys(a);for(g=0;g<f.length;g++)p=f[g],"protocol"!==p&&(d[p]=a[p]);y[d.protocol]&&d.hostname&&!d.pathname&&(d.path=d.pathname="/");d.href=d.format();return d}if(a.protocol&&a.protocol!==d.protocol){if(!y[a.protocol]){f=Object.keys(a);for(g=0;g<f.length;g++)p=f[g],d[p]=a[p];d.href=d.format();return d}d.protocol=a.protocol;if(a.host||r[a.protocol])d.pathname=a.pathname;
else{for(b=(a.pathname||"").split("/");b.length&&!(a.host=b.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==b[0]&&b.unshift("");2>b.length&&b.unshift("");d.pathname=b.join("/")}d.search=a.search;d.query=a.query;d.host=a.host||"";d.auth=a.auth;d.hostname=a.hostname||a.host;d.port=a.port;if(d.pathname||d.search)d.path=(d.pathname||"")+(d.search||"");d.slashes=d.slashes||a.slashes;d.href=d.format();return d}f=d.pathname&&"/"===d.pathname.charAt(0);var q=a.host||a.pathname&&"/"===a.pathname.charAt(0),
D=f=q||f||d.host&&a.pathname;g=d.pathname&&d.pathname.split("/")||[];b=a.pathname&&a.pathname.split("/")||[];if(p=d.protocol&&!y[d.protocol])d.hostname="",d.port=null,d.host&&(""===g[0]?g[0]=d.host:g.unshift(d.host)),d.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===b[0]?b[0]=a.host:b.unshift(a.host)),a.host=null),f=f&&(""===b[0]||""===g[0]);if(q)d.host=a.host||""===a.host?a.host:d.host,d.hostname=a.hostname||""===a.hostname?a.hostname:d.hostname,d.search=a.search,d.query=a.query,g=
b;else if(b.length)g||(g=[]),g.pop(),g=g.concat(b),d.search=a.search,d.query=a.query;else if(!c.isNullOrUndefined(a.search))return p&&(d.hostname=d.host=g.shift(),p=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=p.shift(),d.host=d.hostname=p.shift()),d.search=a.search,d.query=a.query,c.isNull(d.pathname)&&c.isNull(d.search)||(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d;if(!g.length)return d.pathname=null,d.path=d.search?"/"+d.search:null,d.href=d.format(),
d;q=g.slice(-1)[0];b=(d.host||a.host||1<g.length)&&("."===q||".."===q)||""===q;for(var k=0,w=g.length;0<=w;w--)q=g[w],"."===q?g.splice(w,1):".."===q?(g.splice(w,1),k++):k&&(g.splice(w,1),k--);if(!f&&!D)for(;k--;k)g.unshift("..");!f||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift("");b&&"/"!==g.join("/").substr(-1)&&g.push("");D=""===g[0]||g[0]&&"/"===g[0].charAt(0);p&&(d.hostname=d.host=D?"":g.length?g.shift():"",p=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=p.shift(),d.host=d.hostname=
p.shift());(f=f||d.host&&g.length)&&!D&&g.unshift("");g.length?d.pathname=g.join("/"):(d.pathname=null,d.path=null);c.isNull(d.pathname)&&c.isNull(d.search)||(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:""));d.auth=a.auth||d.auth;d.slashes=d.slashes||a.slashes;d.href=d.format();return d};e.prototype.parseHost=function(){var a=this.host,b=d.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{"./util":13,punycode:8,querystring:11}],13:[function(g,
m,k){m.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],14:[function(g,m,k){m.exports="function"===typeof Object.create?function(e,b){e.super_=b;e.prototype=Object.create(b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,b){e.super_=b;var f=function(){};f.prototype=b.prototype;e.prototype=new f;e.prototype.constructor=
e}},{}],15:[function(g,m,k){m.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},{}],16:[function(g,m,k){(function(e,b){function f(b,d){var h={seen:[],stylize:a};3<=arguments.length&&(h.depth=arguments[2]);4<=arguments.length&&(h.colors=arguments[3]);r(d)?h.showHidden=d:d&&k._extend(h,d);p(h.showHidden)&&(h.showHidden=!1);p(h.depth)&&(h.depth=2);p(h.colors)&&(h.colors=!1);p(h.customInspect)&&(h.customInspect=
!0);h.colors&&(h.stylize=c);return q(h,b,h.depth)}function c(a,b){var d=f.styles[b];return d?"\u001b["+f.colors[d][0]+"m"+a+"\u001b["+f.colors[d][1]+"m":a}function a(a,b){return a}function d(a){var b={};a.forEach(function(a,d){b[a]=!0});return b}function q(a,b,c){if(a.customInspect&&b&&F(b.inspect)&&b.inspect!==k.inspect&&(!b.constructor||b.constructor.prototype!==b)){var h=b.inspect(c,a);B(h)||(h=q(a,h,c));return h}if(h=w(a,b))return h;var e=Object.keys(b),f=d(e);a.showHidden&&(e=Object.getOwnPropertyNames(b));
if(z(b)&&(0<=e.indexOf("message")||0<=e.indexOf("description")))return m(b);if(0===e.length){if(F(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(K(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(G(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return m(b)}h="";var g=!1,n=["{","}"];t(b)&&(g=!0,n=["[","]"]);F(b)&&(h=" [Function"+(b.name?": "+b.name:"")+"]");K(b)&&(h=" "+RegExp.prototype.toString.call(b));G(b)&&(h=" "+Date.prototype.toUTCString.call(b));
z(b)&&(h=" "+m(b));if(0===e.length&&(!g||0==b.length))return n[0]+h+n[1];if(0>c)return K(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);e=g?C(a,b,c,f,e):e.map(function(d){return x(a,b,c,f,d,g)});a.seen.pop();return u(e,h,n)}function w(a,b){if(p(b))return a.stylize("undefined","undefined");if(B(b)){var d="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(d,"string")}if(y(b))return a.stylize(""+
b,"number");if(r(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function m(a){return"["+Error.prototype.toString.call(a)+"]"}function C(a,b,d,c,e){for(var h=[],l=0,f=b.length;l<f;++l)Object.prototype.hasOwnProperty.call(b,String(l))?h.push(x(a,b,d,c,String(l),!0)):h.push("");e.forEach(function(l){l.match(/^\d+$/)||h.push(x(a,b,d,c,l,!0))});return h}function x(a,b,d,c,e,f){var h,l;b=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]};b.get?l=b.set?a.stylize("[Getter/Setter]",
"special"):a.stylize("[Getter]","special"):b.set&&(l=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,e)||(h="["+e+"]");l||(0>a.seen.indexOf(b.value)?(l=null===d?q(a,b.value,null):q(a,b.value,d-1),-1<l.indexOf("\n")&&(l=f?l.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+l.split("\n").map(function(a){return"   "+a}).join("\n"))):l=a.stylize("[Circular]","special"));if(p(h)){if(f&&e.match(/^\d+$/))return l;h=JSON.stringify(""+e);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?
(h=h.substr(1,h.length-2),h=a.stylize(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.stylize(h,"string"))}return h+": "+l}function u(a,b,d){var c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?d[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+d[1]:d[0]+b+" "+a.join(", ")+" "+d[1]}function t(a){return Array.isArray(a)}function r(a){return"boolean"===typeof a}function y(a){return"number"===typeof a}
function B(a){return"string"===typeof a}function p(a){return void 0===a}function K(a){return v(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function v(a){return"object"===typeof a&&null!==a}function G(a){return v(a)&&"[object Date]"===Object.prototype.toString.call(a)}function z(a){return v(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function F(a){return"function"===typeof a}function H(a){return 10>a?"0"+a.toString(10):a.toString(10)}function D(){var a=
new Date,b=[H(a.getHours()),H(a.getMinutes()),H(a.getSeconds())].join(":");return[a.getDate(),E[a.getMonth()],b].join(" ")}var I=/%[sdj%]/g;k.format=function(a){if(!B(a)){for(var b=[],d=0;d<arguments.length;d++)b.push(f(arguments[d]));return b.join(" ")}d=1;var c=arguments,h=c.length;b=String(a).replace(I,function(a){if("%%"===a)return"%";if(d>=h)return a;switch(a){case "%s":return String(c[d++]);case "%d":return Number(c[d++]);case "%j":try{return JSON.stringify(c[d++])}catch(P){return"[Circular]"}default:return a}});
for(var e=c[d];d<h;e=c[++d])b=null!==e&&v(e)?b+(" "+f(e)):b+(" "+e);return b};k.deprecate=function(a,d){if(p(b.process))return function(){return k.deprecate(a,d).apply(this,arguments)};if(!0===e.noDeprecation)return a;var c=!1;return function(){if(!c){if(e.throwDeprecation)throw Error(d);e.traceDeprecation?console.trace(d):console.error(d);c=!0}return a.apply(this,arguments)}};var L={},M;k.debuglog=function(a){p(M)&&(M=e.env.NODE_DEBUG||"");a=a.toUpperCase();if(!L[a])if((new RegExp("\\b"+a+"\\b",
"i")).test(M)){var b=e.pid;L[a]=function(){var d=k.format.apply(k,arguments);console.error("%s %d: %s",a,b,d)}}else L[a]=function(){};return L[a]};k.inspect=f;f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};k.isArray=t;k.isBoolean=
r;k.isNull=function(a){return null===a};k.isNullOrUndefined=function(a){return null==a};k.isNumber=y;k.isString=B;k.isSymbol=function(a){return"symbol"===typeof a};k.isUndefined=p;k.isRegExp=K;k.isObject=v;k.isDate=G;k.isError=z;k.isFunction=F;k.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};k.isBuffer=g("./support/isBuffer");var E="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");k.log=
function(){console.log("%s - %s",D(),k.format.apply(k,arguments))};k.inherits=g("inherits");k._extend=function(a,b){if(!b||!v(b))return a;for(var d=Object.keys(b),c=d.length;c--;)a[d[c]]=b[d[c]];return a}}).call(this,g("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":15,_process:7,inherits:14}],17:[function(g,m,k){(function(e,b){function f(a,b,d){a.emit("packetsend",b);if(!C.writeToStream(b,a.stream)&&d)a.stream.once("drain",
d);else d&&d()}function c(a,b,d){a.outgoingStore.put(b,function(c){if(c)return d&&d(c);f(a,b,d)})}function a(){}function d(a,b){var c,e=this;if(!(this instanceof d))return new d(a,b);this.options=b||{};for(c in B)this.options[c]="undefined"===typeof this.options[c]?B[c]:b[c];this.options.clientId=this.options.clientId||"mqttjs_"+Math.random().toString(16).substr(2,8);this.streamBuilder=a;this.outgoingStore=this.options.outgoingStore||new k;this.incomingStore=this.options.incomingStore||new k;this.queueQoSZero=
void 0===this.options.queueQoSZero?!0:this.options.queueQoSZero;this._resubscribeTopics={};this.pingTimer=null;this.disconnecting=this.connected=!1;this.queue=[];this.reconnectTimer=this.connackTimer=null;this.nextId=Math.floor(65535*Math.random());this.outgoing={};this.on("connect",function(){if(!this.disconnected){this.connected=!0;var a=null;a=this.outgoingStore.createStream();a.once("readable",function(){function b(){var d=a.read(1);if(d)if(!e.disconnecting&&!e.reconnectTimer&&0<e.options.reconnectPeriod){a.read(0);
var c=e.outgoing[d.messageId];e.outgoing[d.messageId]=function(a,d){c&&c(a,d);b()};e._sendPacket(d)}else a.destroy&&a.destroy()}b()}).on("error",this.emit.bind(this,"error"))}});this.on("close",function(){this.connected=!1;clearTimeout(this.connackTimer)});this.on("connect",this._setupPingTimer);this.on("connect",function(){function a(){var d=b.shift(),c=null;d&&(c=d.packet,e._sendPacket(c,function(b){d.cb&&d.cb(b);a()}))}var b=this.queue;a()});var f=!0;this.on("connect",function(){!f&&this.options.clean&&
0<Object.keys(this._resubscribeTopics).length&&(this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics));f=!1});this.on("close",function(){null!==e.pingTimer&&(e.pingTimer.clear(),e.pingTimer=null)});this.on("close",this._setupReconnect);q.EventEmitter.call(this);this._setupStream()}var q=g("events"),k=g("./store"),A=g("end-of-stream"),C=g("mqtt-packet"),x=g("readable-stream").Writable,u=g("inherits"),t=g("reinterval"),r=g("./validations"),y=b.setImmediate||function(a){e.nextTick(a)},
B={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1E3,connectTimeout:3E4,clean:!0};u(d,q.EventEmitter);d.prototype._setupStream=function(){function b(){var a=q.shift(),c=g;a?d._handlePacket(a,b):(g=null,c())}var d=this;var c=new x;var e=C.parser(this.options),g=null,q=[];this._clearReconnect();this.stream=this.streamBuilder(this);e.on("packet",function(a){q.push(a)});c._write=function(a,d,c){g=c;e.parse(a);b()};this.stream.pipe(c);this.stream.on("error",a);A(this.stream,
this.emit.bind(this,"close"));c=Object.create(this.options);c.cmd="connect";f(this,c);e.on("error",this.emit.bind(this,"error"));this.stream.setMaxListeners(1E3);clearTimeout(this.connackTimer);this.connackTimer=setTimeout(function(){d._cleanUp(!0)},this.options.connectTimeout)};d.prototype._handlePacket=function(a,b){this.emit("packetreceive",a);switch(a.cmd){case "publish":this._handlePublish(a,b);break;case "puback":case "pubrec":case "pubcomp":case "suback":case "unsuback":this._handleAck(a);
b();break;case "pubrel":this._handlePubrel(a,b);break;case "connack":this._handleConnack(a);b();break;case "pingresp":this._handlePingresp(a),b()}};d.prototype._checkDisconnecting=function(a){this.disconnecting&&(a?a(Error("client disconnecting")):this.emit("error",Error("client disconnecting")));return this.disconnecting};d.prototype.publish=function(b,d,c,e){"function"===typeof c&&(e=c,c=null);c||(c={qos:0,retain:!1,dup:!1});if(this._checkDisconnecting(e))return this;b={cmd:"publish",topic:b,payload:d,
qos:c.qos,retain:c.retain,messageId:this._nextId(),dup:c.dup};switch(c.qos){case 1:case 2:this.outgoing[b.messageId]=e||a;this._sendPacket(b);break;default:this._sendPacket(b,e)}return this};d.prototype.subscribe=function(){var b=Array.prototype.slice.call(arguments);var d=[],c=b.shift(),e=c.resubscribe,f=b.pop()||a,g=b.pop(),q=this;delete c.resubscribe;"string"===typeof c&&(c=[c]);"function"!==typeof f&&(g=f,f=a);b=r.validateTopics(c);if(null!==b)return y(f,Error("Invalid topic "+b)),this;if(this._checkDisconnecting(f))return this;
g||(g={qos:0});Array.isArray(c)?c.forEach(function(a){(q._resubscribeTopics[a]<g.qos||!q._resubscribeTopics.hasOwnProperty(a)||e)&&d.push({topic:a,qos:g.qos})}):Object.keys(c).forEach(function(a){(q._resubscribeTopics[a]<c[a]||!q._resubscribeTopics.hasOwnProperty(a)||e)&&d.push({topic:a,qos:c[a]})});b={cmd:"subscribe",subscriptions:d,qos:1,retain:!1,dup:!1,messageId:this._nextId()};if(d.length)return d.forEach(function(a){q._resubscribeTopics[a.topic]=a.qos}),this.outgoing[b.messageId]=function(a,
b){if(!a)for(var c=b.granted,e=0;e<c.length;e+=1)d[e].qos=c[e];f(a,d)},this._sendPacket(b),this;f(null,[])};d.prototype.unsubscribe=function(b,d){var c={cmd:"unsubscribe",qos:1,messageId:this._nextId()},e=this;d=d||a;if(this._checkDisconnecting(d))return this;"string"===typeof b?c.unsubscriptions=[b]:"object"===typeof b&&b.length&&(c.unsubscriptions=b);c.unsubscriptions.forEach(function(a){delete e._resubscribeTopics[a]});this.outgoing[c.messageId]=d;this._sendPacket(c);return this};d.prototype.end=
function(a,b){function d(){e.disconnected=!0;e.incomingStore.close(function(){e.outgoingStore.close(b)})}function c(){e._cleanUp(a,y.bind(null,d))}var e=this;"function"===typeof a&&(b=a,a=!1);if(this.disconnecting)return this;this._clearReconnect();this.disconnecting=!0;if(!a&&0<Object.keys(this.outgoing).length)this.once("outgoingEmpty",setTimeout.bind(null,c,10));else c();return this};d.prototype._reconnect=function(){this.emit("reconnect");this._setupStream()};d.prototype._setupReconnect=function(){var a=
this;!a.disconnecting&&!a.reconnectTimer&&0<a.options.reconnectPeriod&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),a.reconnectTimer=setInterval(function(){a._reconnect()},a.options.reconnectPeriod))};d.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)};d.prototype._cleanUp=function(a,b){if(b)this.stream.on("close",b);a?this.stream.destroy():this._sendPacket({cmd:"disconnect"},y.bind(null,this.stream.end.bind(this.stream)));
this.disconnecting||(this._clearReconnect(),this._setupReconnect());null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null)};d.prototype._sendPacket=function(a,b){if(this.connected)if(this._shiftPingInterval(),"publish"!==a.cmd)f(this,a,b);else switch(a.qos){case 2:case 1:c(this,a,b);break;default:f(this,a,b)}else 0===(a.qos||0)&&this.queueQoSZero||"publish"!==a.cmd?this.queue.push({packet:a,cb:b}):0<a.qos?this.outgoingStore.put(a,function(a){if(a)return b&&b(a)}):b&&b(Error("No connection to broker"))};
d.prototype._setupPingTimer=function(){var a=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=t(function(){a._checkPing()},1E3*this.options.keepalive))};d.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1E3*this.options.keepalive)};d.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)};d.prototype._handlePingresp=function(){this.pingResp=
!0};d.prototype._handleConnack=function(a){var b=a.returnCode,d=";Unacceptable protocol version;Identifier rejected;Server unavailable;Bad username or password;Not authorized".split(";");clearTimeout(this.connackTimer);0===b?(this.reconnecting=!1,this.emit("connect",a)):0<b&&(a=Error("Connection refused: "+d[b]),a.code=b,this.emit("error",a))};d.prototype._handlePublish=function(a,b){var d=a.topic.toString(),c=a.payload,e=a.messageId,f=this;switch(a.qos){case 2:this.incomingStore.put(a,function(){f._sendPacket({cmd:"pubrec",
messageId:e},b)});break;case 1:this._sendPacket({cmd:"puback",messageId:e});case 0:this.emit("message",d,c,a),this.handleMessage(a,b)}};d.prototype.handleMessage=function(a,b){b()};d.prototype._handleAck=function(a){var b=a.messageId,d=this.outgoing[b];if(d){switch(a.cmd){case "pubcomp":case "puback":delete this.outgoing[b];this.outgoingStore.del(a,d);break;case "pubrec":a={cmd:"pubrel",qos:2,messageId:b};this._sendPacket(a);break;case "suback":delete this.outgoing[b];d(null,a);break;case "unsuback":delete this.outgoing[b];
d(null);break;default:this.emit("error",Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}};d.prototype._handlePubrel=function(a,b){var d=a.messageId,c=this;c.incomingStore.get(a,function(e,f){if(e)return c.emit("error",e);"pubrel"!==f.cmd&&(c.emit("message",f.topic,f.payload,f),c.incomingStore.put(a));c._sendPacket({cmd:"pubcomp",messageId:d},b)})};d.prototype._nextId=function(){var a=this.nextId++;65535===a&&(this.nextId=1);
return a};d.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1};m.exports=d}).call(this,g("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./store":21,"./validations":22,_process:7,"end-of-stream":29,events:4,inherits:30,"mqtt-packet":34,"readable-stream":50,reinterval:51}],18:[function(g,m,k){var e=g("net");m.exports=function(b,f){f.port=f.port||1883;f.hostname=f.hostname||f.host||"localhost";return e.createConnection(f.port,
f.hostname)}},{net:2}],19:[function(g,m,k){var e=g("tls");m.exports=function(b,f){function c(d){f.rejectUnauthorized&&b.emit("error",d);a.end()}f.port=f.port||8883;f.host=f.hostname||f.host||"localhost";f.rejectUnauthorized=!1!==f.rejectUnauthorized;var a=e.connect(f);a.on("secureConnect",function(){f.rejectUnauthorized&&!a.authorized?a.emit("error",Error("TLS not authorized")):a.removeListener("error",c)});a.on("error",c);return a}},{tls:2}],20:[function(g,m,k){(function(e){function b(a){a.hostname||
(a.hostname="localhost");a.port||(a.port="wss"===a.protocol?443:80);a.path||(a.path="/");a.wsOptions||(a.wsOptions={});A||"wss"!==a.protocol||k.forEach(function(b){a.hasOwnProperty(b)&&!a.wsOptions.hasOwnProperty(b)&&(a.wsOptions[b]=a[b])})}function f(a,c){var e="MQIsdp"===c.protocolId&&3===c.protocolVersion?"mqttv3.1":"mqtt";b(c);var f=c.protocol+"://"+c.hostname+":"+c.port+c.path;"function"===typeof c.transformWsUrl&&(f=c.transformWsUrl(f,c,a));return d(f,[e],c.wsOptions)}function c(a,b){return f(a,
b)}function a(a,b){b.hostname||(b.hostname=b.host);if(!b.hostname){if("undefined"===typeof document)throw Error("Could not determine host. Specify host manually.");var c=q.parse(document.URL);b.hostname=c.hostname;b.port||(b.port=c.port)}return f(a,b)}var d=g("websocket-stream"),q=g("url"),k="rejectUnauthorized ca cert key pfx passphrase".split(" "),A="browser"===e.title;m.exports=A?a:c}).call(this,g("_process"))},{_process:7,url:12,"websocket-stream":56}],21:[function(g,m,k){(function(e){function b(){if(!(this instanceof
b))return new b;this._inflights={}}var f=g("readable-stream").Readable,c={objectMode:!0};b.prototype.put=function(a,b){this._inflights[a.messageId]=a;b&&b();return this};b.prototype.createStream=function(){var a=new f(c),b=this._inflights,g=Object.keys(this._inflights),k=!1,m=0;a._read=function(){!k&&m<g.length?this.push(b[g[m++]]):this.push(null)};a.destroy=function(){if(!k){var a=this;k=!0;e.nextTick(function(){a.emit("close")})}};return a};b.prototype.del=function(a,b){(a=this._inflights[a.messageId])?
(delete this._inflights[a.messageId],b(null,a)):b&&b(Error("missing packet"));return this};b.prototype.get=function(a,b){(a=this._inflights[a.messageId])?b(null,a):b&&b(Error("missing packet"));return this};b.prototype.close=function(a){this._inflights=null;a&&a()};m.exports=b}).call(this,g("_process"))},{_process:7,"readable-stream":50}],22:[function(g,m,k){m.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(var b=0;b<e.length;b++){a:{var f=e[b].split("/");for(var c=
0;c<f.length;c++)if("+"!==f[c]){if("#"===f[c]){f=c===f.length-1;break a}if(-1!==f[c].indexOf("+")||-1!==f[c].indexOf("#")){f=!1;break a}}f=!0}if(!f)return e[b]}return null}}},{}],23:[function(g,m,k){(function(e){function b(a){var b;a.auth&&((b=a.auth.match(/^(.+):(.+)$/))?(a.username=b[1],a.password=b[2]):a.username=a.auth)}function f(e,f){"object"!==typeof e||f||(f=e,e=null);f=f||{};if(e){var g=a.parse(e,!0);null!=g.port&&(g.port=Number(g.port));f=d(g,f);if(null===f.protocol)throw Error("Missing protocol");
f.protocol=f.protocol.replace(/:$/,"")}b(f);f.query&&"string"===typeof f.query.clientId&&(f.clientId=f.query.clientId);if(f.cert&&f.key)if(f.protocol){if(-1===["mqtts","wss"].indexOf(f.protocol))switch(f.protocol){case "mqtt":f.protocol="mqtts";break;case "ws":f.protocol="wss";break;default:throw Error('Unknown protocol for secure connection: "'+f.protocol+'"!');}}else throw Error("Missing secure protocol key");if(!q[f.protocol]){var k=-1!==["mqtts","wss"].indexOf(f.protocol);f.protocol=["mqtt","mqtts",
"ws","wss"].filter(function(a,b){return k&&0===b%2?!1:"function"===typeof q[a]})[0]}if(!1===f.clean&&!f.clientId)throw Error("Missing clientId for unclean clients");return new c(function(a){f.servers&&(a._reconnectCount&&a._reconnectCount!==f.servers.length||(a._reconnectCount=0),f.host=f.servers[a._reconnectCount].host,f.port=f.servers[a._reconnectCount].port,f.hostname=f.host,a._reconnectCount++);return q[f.protocol](a,f)},f)}var c=g("../client"),a=g("url"),d=g("xtend"),q={};"browser"!==e.title&&
(q.mqtt=g("./tcp"),q.tcp=g("./tcp"),q.ssl=g("./tls"),q.tls=g("./tls"),q.mqtts=g("./tls"));q.ws=g("./ws");q.wss=g("./ws");m.exports=f;m.exports.connect=f;m.exports.MqttClient=c}).call(this,g("_process"))},{"../client":17,"./tcp":18,"./tls":19,"./ws":20,_process:7,url:12,xtend:59}],24:[function(g,m,k){(function(e){function b(c){if(!(this instanceof b))return new b(c);this._bufs=[];this.length=0;if("function"==typeof c){this._callback=c;var a=function(a){this._callback&&(this._callback(a),this._callback=
null)}.bind(this);this.on("pipe",function(b){b.on("error",a)});this.on("unpipe",function(b){b.removeListener("error",a)})}else this.append(c);f.call(this)}var f=g("readable-stream/duplex");g("util").inherits(b,f);b.prototype._offset=function(b){var a=0,c=0;if(0===b)return[0,0];for(;c<this._bufs.length;c++){var e=a+this._bufs[c].length;if(b<e||c==this._bufs.length-1)return[c,b-a];a=e}};b.prototype.append=function(c){var a=0;if(e.isBuffer(c))this._appendBuffer(c);else if(Array.isArray(c))for(;a<c.length;a++)this.append(c[a]);
else if(c instanceof b)for(;a<c._bufs.length;a++)this.append(c._bufs[a]);else null!=c&&("number"==typeof c&&(c=c.toString()),this._appendBuffer(new e(c)));return this};b.prototype._appendBuffer=function(b){this._bufs.push(b);this.length+=b.length};b.prototype._write=function(b,a,d){this._appendBuffer(b);"function"==typeof d&&d()};b.prototype._read=function(b){if(!this.length)return this.push(null);b=Math.min(b,this.length);this.push(this.slice(0,b));this.consume(b)};b.prototype.end=function(b){f.prototype.end.call(this,
b);this._callback&&(this._callback(null,this.slice()),this._callback=null)};b.prototype.get=function(b){return this.slice(b,b+1)[0]};b.prototype.slice=function(b,a){"number"==typeof b&&0>b&&(b+=this.length);"number"==typeof a&&0>a&&(a+=this.length);return this.copy(null,0,b,a)};b.prototype.copy=function(b,a,d,f){if("number"!=typeof d||0>d)d=0;if("number"!=typeof f||f>this.length)f=this.length;if(d>=this.length||0>=f)return b||new e(0);var c=!!b,g=this._offset(d),q=f-d,k=q,m=c&&a||0,t=g[1];if(0===
d&&f==this.length){if(!c)return 1===this._bufs.length?this._bufs[0]:e.concat(this._bufs,this.length);for(d=0;d<this._bufs.length;d++)this._bufs[d].copy(b,m),m+=this._bufs[d].length;return b}if(k<=this._bufs[g[0]].length-t)return c?this._bufs[g[0]].copy(b,a,t,t+k):this._bufs[g[0]].slice(t,t+k);c||(b=new e(q));for(d=g[0];d<this._bufs.length;d++){a=this._bufs[d].length-t;if(k>a)this._bufs[d].copy(b,m,t);else{this._bufs[d].copy(b,m,t,t+k);break}m+=a;k-=a;t&&(t=0)}return b};b.prototype.shallowSlice=function(c,
a){c=c||0;a=a||this.length;0>c&&(c+=this.length);0>a&&(a+=this.length);var d=this._offset(c),e=this._offset(a),f=this._bufs.slice(d[0],e[0]+1);0==e[1]?f.pop():f[f.length-1]=f[f.length-1].slice(0,e[1]);0!=d[1]&&(f[0]=f[0].slice(d[1]));return new b(f)};b.prototype.toString=function(b,a,d){return this.slice(a,d).toString(b)};b.prototype.consume=function(b){for(;this._bufs.length;)if(b>=this._bufs[0].length)b-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=
this._bufs[0].slice(b);this.length-=b;break}return this};b.prototype.duplicate=function(){for(var c=0,a=new b;c<this._bufs.length;c++)a.append(this._bufs[c]);return a};b.prototype.destroy=function(){this.length=this._bufs.length=0;this.push(null)};(function(){var c={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1},a;for(a in c)(function(a){b.prototype[a]=
function(b){return this.slice(b,b+c[a])[a](0)}})(a)})();m.exports=b}).call(this,g("buffer").Buffer)},{buffer:3,"readable-stream/duplex":41,util:16}],25:[function(g,m,k){(function(e){k.isArray=function(b){return Array.isArray?Array.isArray(b):"[object Array]"===Object.prototype.toString.call(b)};k.isBoolean=function(b){return"boolean"===typeof b};k.isNull=function(b){return null===b};k.isNullOrUndefined=function(b){return null==b};k.isNumber=function(b){return"number"===typeof b};k.isString=function(b){return"string"===
typeof b};k.isSymbol=function(b){return"symbol"===typeof b};k.isUndefined=function(b){return void 0===b};k.isRegExp=function(b){return"[object RegExp]"===Object.prototype.toString.call(b)};k.isObject=function(b){return"object"===typeof b&&null!==b};k.isDate=function(b){return"[object Date]"===Object.prototype.toString.call(b)};k.isError=function(b){return"[object Error]"===Object.prototype.toString.call(b)||b instanceof Error};k.isFunction=function(b){return"function"===typeof b};k.isPrimitive=function(b){return null===
b||"boolean"===typeof b||"number"===typeof b||"string"===typeof b||"symbol"===typeof b||"undefined"===typeof b};k.isBuffer=e.isBuffer}).call(this,{isBuffer:g("C:/Users/joseph/AppData/Roaming/npm/node_modules/browserify/node_modules/is-buffer/index.js")})},{"C:/Users/joseph/AppData/Roaming/npm/node_modules/browserify/node_modules/is-buffer/index.js":6}],26:[function(g,m,k){(function(e,b){var f=g("readable-stream"),c=g("end-of-stream"),a=g("inherits"),d=g("stream-shift"),k=new b([0]),w=function(a,b){if(a._corked)a.once("uncork",
b);else b()},A=function(a,b){return function(c){c?a.destroy("premature close"===c.message?null:c):b&&!a._ended&&a.end()}},C=function(a,b){if(!a||a._writableState&&a._writableState.finished)return b();if(a._writableState)return a.end(b);a.end();b()},x=function(a){return(new f.Readable({objectMode:!0,highWaterMark:16})).wrap(a)},u=function(a,b,c){if(!(this instanceof u))return new u(a,b,c);f.Duplex.call(this,c);this._readable2=this._readable=this._writable=null;this._forwardDestroy=!c||!1!==c.destroy;
this._forwardEnd=!c||!1!==c.end;this._corked=1;this._ondrain=null;this._forwarding=this._drained=!1;this._unread=this._unwrite=null;this.destroyed=this._ended=!1;a&&this.setWritable(a);b&&this.setReadable(b)};a(u,f.Duplex);u.obj=function(a,b,c){c||(c={});c.objectMode=!0;c.highWaterMark=16;return new u(a,b,c)};u.prototype.cork=function(){1===++this._corked&&this.emit("cork")};u.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")};u.prototype.setWritable=function(a){this._unwrite&&
this._unwrite();if(this.destroyed)a&&a.destroy&&a.destroy();else if(null===a||!1===a)this.end();else{var b=this,d=c(a,{writable:!0,readable:!1},A(this,this._forwardEnd)),f=function(){var a=b._ondrain;b._ondrain=null;a&&a()};this._unwrite&&e.nextTick(f);this._writable=a;this._writable.on("drain",f);this._unwrite=function(){b._writable.removeListener("drain",f);d()};this.uncork()}};u.prototype.setReadable=function(a){this._unread&&this._unread();if(this.destroyed)a&&a.destroy&&a.destroy();else if(null===
a||!1===a)this.push(null),this.resume();else{var b=this,d=c(a,{writable:!1,readable:!0},A(this)),f=function(){b._forward()},e=function(){b.push(null)};this._drained=!0;this._readable=a;this._readable2=a._readableState?a:x(a);this._readable2.on("readable",f);this._readable2.on("end",e);this._unread=function(){b._readable2.removeListener("readable",f);b._readable2.removeListener("end",e);d()};this._forward()}};u.prototype._read=function(){this._drained=!0;this._forward()};u.prototype._forward=function(){if(!this._forwarding&&
this._readable2&&this._drained){this._forwarding=!0;for(var a;this._drained&&null!==(a=d(this._readable2));)this.destroyed||(this._drained=this.push(a));this._forwarding=!1}};u.prototype.destroy=function(a){if(!this.destroyed){this.destroyed=!0;var b=this;e.nextTick(function(){b._destroy(a)})}};u.prototype._destroy=function(a){if(a){var b=this._ondrain;this._ondrain=null;b?b(a):this.emit("error",a)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&
this._writable.destroy&&this._writable.destroy());this.emit("close")};u.prototype._write=function(a,b,c){if(this.destroyed)return c();if(this._corked)return w(this,this._write.bind(this,a,b,c));if(a===k)return this._finish(c);if(!this._writable)return c();!1===this._writable.write(a)?this._ondrain=c:c()};u.prototype._finish=function(a){var b=this;this.emit("preend");w(this,function(){C(b._forwardEnd&&b._writable,function(){!1===b._writableState.prefinished&&(b._writableState.prefinished=!0);b.emit("prefinish");
w(b,a)})})};u.prototype.end=function(a,b,c){if("function"===typeof a)return this.end(null,null,a);if("function"===typeof b)return this.end(a,null,b);this._ended=!0;a&&this.write(a);this._writableState.ending||this.write(k);return f.Writable.prototype.end.call(this,c)};m.exports=u}).call(this,g("_process"),g("buffer").Buffer)},{_process:7,buffer:3,"end-of-stream":27,inherits:30,"readable-stream":50,"stream-shift":53}],27:[function(g,m,k){var e=g("once"),b=function(){},f=function(c,a,d){if("function"===
typeof a)return f(c,null,a);a||(a={});d=e(d||b);var g=c._writableState,k=c._readableState,m=a.readable||!1!==a.readable&&c.readable,C=a.writable||!1!==a.writable&&c.writable,x=function(){c.writable||u()},u=function(){C=!1;m||d()},t=function(){m=!1;C||d()},r=function(){if(m&&(!k||!k.ended)||C&&(!g||!g.ended))return d(Error("premature close"))},y=function(){c.req.on("finish",u)};if(c.setHeader&&"function"===typeof c.abort)if(c.on("complete",u),c.on("abort",r),c.req)y();else c.on("request",y);else C&&
!g&&(c.on("end",x),c.on("close",x));c.on("end",t);c.on("finish",u);if(!1!==a.error)c.on("error",d);c.on("close",r);return function(){c.removeListener("complete",u);c.removeListener("abort",r);c.removeListener("request",y);c.req&&c.req.removeListener("finish",u);c.removeListener("end",x);c.removeListener("close",x);c.removeListener("finish",u);c.removeListener("end",t);c.removeListener("error",d);c.removeListener("close",r)}};m.exports=f},{once:28}],28:[function(g,m,k){function e(b){var f=function(){if(f.called)return f.value;
f.called=!0;return f.value=b.apply(this,arguments)};f.called=!1;return f}g=g("wrappy");m.exports=g(e);e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0})})},{wrappy:58}],29:[function(g,m,k){var e=g("once"),b=function(){},f=function(a){return a.stdio&&Array.isArray(a.stdio)&&3===a.stdio.length},c=function(a,d,g){if("function"===typeof d)return c(a,null,d);d||(d={});g=e(g||b);var k=a._writableState,q=a._readableState,m=d.readable||
!1!==d.readable&&a.readable,x=d.writable||!1!==d.writable&&a.writable,u=function(){a.writable||t()},t=function(){x=!1;m||g.call(a)},r=function(){m=!1;x||g.call(a)},y=function(b){g.call(a,b?Error("exited with error code: "+b):null)},B=function(){if(m&&(!q||!q.ended)||x&&(!k||!k.ended))return g.call(a,Error("premature close"))},p=function(){a.req.on("finish",t)};if(a.setHeader&&"function"===typeof a.abort)if(a.on("complete",t),a.on("abort",B),a.req)p();else a.on("request",p);else x&&!k&&(a.on("end",
u),a.on("close",u));if(f(a))a.on("exit",y);a.on("end",r);a.on("finish",t);if(!1!==d.error)a.on("error",g);a.on("close",B);return function(){a.removeListener("complete",t);a.removeListener("abort",B);a.removeListener("request",p);a.req&&a.req.removeListener("finish",t);a.removeListener("end",u);a.removeListener("close",u);a.removeListener("finish",t);a.removeListener("exit",y);a.removeListener("end",r);a.removeListener("error",g);a.removeListener("close",B)}};m.exports=c},{once:39}],30:[function(g,
m,k){arguments[4][14][0].apply(k,arguments)},{dup:14}],31:[function(g,m,k){var e={}.toString;m.exports=Array.isArray||function(b){return"[object Array]"==e.call(b)}},{}],32:[function(g,m,k){function e(a){return[0,1,2].map(function(c){return[0,1].map(function(d){return[0,1].map(function(e){var g=new b(1);g.writeUInt8(f.codes[a]<<f.CMD_SHIFT|(d?f.DUP_MASK:0)|c<<f.QOS_SHIFT|e,0,!0);return g})})})}var b=g("safe-buffer").Buffer,f=m.exports;f.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",
5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"};f.codes={};for(var c in f.types)f.codes[f.types[c]]=c;f.CMD_SHIFT=4;f.CMD_MASK=240;f.DUP_MASK=8;f.QOS_MASK=3;f.QOS_SHIFT=1;f.RETAIN_MASK=1;f.LENGTH_MASK=127;f.LENGTH_FIN_MASK=128;f.SESSIONPRESENT_MASK=1;f.SESSIONPRESENT_HEADER=b.from([f.SESSIONPRESENT_MASK]);f.CONNACK_HEADER=b.from([f.codes.connack<<f.CMD_SHIFT]);f.USERNAME_MASK=128;f.PASSWORD_MASK=64;
f.WILL_RETAIN_MASK=32;f.WILL_QOS_MASK=24;f.WILL_QOS_SHIFT=3;f.WILL_FLAG_MASK=4;f.CLEAN_SESSION_MASK=2;f.CONNECT_HEADER=b.from([f.codes.connect<<f.CMD_SHIFT]);f.PUBLISH_HEADER=e("publish");f.SUBSCRIBE_HEADER=e("subscribe");f.UNSUBSCRIBE_HEADER=e("unsubscribe");f.ACKS={unsuback:e("unsuback"),puback:e("puback"),pubcomp:e("pubcomp"),pubrel:e("pubrel"),pubrec:e("pubrec")};f.SUBACK_HEADER=b.from([f.codes.suback<<f.CMD_SHIFT]);f.VERSION3=b.from([3]);f.VERSION4=b.from([4]);f.QOS=[0,1,2].map(function(a){return b.from([a])});
f.EMPTY={pingreq:b.from([f.codes.pingreq<<4,0]),pingresp:b.from([f.codes.pingresp<<4,0]),disconnect:b.from([f.codes.disconnect<<4,0])}},{"safe-buffer":52}],33:[function(g,m,k){function e(){this._array=Array(20);this._i=0}var b=g("safe-buffer").Buffer,f=g("./writeToStream");k=g("events").EventEmitter;g("inherits")(e,k);e.prototype.write=function(b){this._array[this._i++]=b;return!0};e.prototype.concat=function(){var c=0,a=Array(this._array.length),d=this._array,f=0,e;for(e=0;e<d.length&&d[e];e++)a[e]=
"string"!==typeof d[e]?d[e].length:b.byteLength(d[e]),c+=a[e];c=b.allocUnsafe(c);for(e=0;e<d.length&&d[e];e++)"string"!==typeof d[e]?d[e].copy(c,f):c.write(d[e],f),f+=a[e];return c};m.exports=function(b){var a=new e;f(b,a);return a.concat()}},{"./writeToStream":38,events:4,inherits:30,"safe-buffer":52}],34:[function(g,m,k){k.parser=g("./parser");k.generate=g("./generate");k.writeToStream=g("./writeToStream")},{"./generate":33,"./parser":37,"./writeToStream":38}],35:[function(g,m,k){function e(c){var a=
b.allocUnsafe(2);a.writeUInt8(c>>8,0,!0);a.writeUInt8(c&255,1,!0);return a}var b=g("safe-buffer").Buffer,f={};m.exports={cache:f,generateCache:function(){for(var b=0;65536>b;b++)f[b]=e(b)},generateNumber:e}},{"safe-buffer":52}],36:[function(g,m,k){m.exports=function(){this.cmd=null;this.retain=!1;this.qos=0;this.dup=!1;this.length=-1;this.payload=this.topic=null}},{}],37:[function(g,m,k){function e(){if(!(this instanceof e))return new e;this._states=["_parseHeader","_parseLength","_parsePayload",
"_newPacket"];this._resetState()}var b=g("bl");k=g("inherits");var f=g("events").EventEmitter,c=g("./packet"),a=g("./constants");k(e,f);e.prototype._resetState=function(){this.packet=new c;this.error=null;this._list=b();this._stateCounter=0};e.prototype.parse=function(a){this.error&&this._resetState();for(this._list.append(a);(-1!==this.packet.length||0<this._list.length)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=
0);return this._list.length};e.prototype._parseHeader=function(){var b=this._list.readUInt8(0);this.packet.cmd=a.types[b>>a.CMD_SHIFT];this.packet.retain=0!==(b&a.RETAIN_MASK);this.packet.qos=b>>a.QOS_SHIFT&a.QOS_MASK;this.packet.dup=0!==(b&a.DUP_MASK);this._list.consume(1);return!0};e.prototype._parseLength=function(){for(var b=0,c=1,e=0,f=!0,g;5>b;){g=this._list.readUInt8(b++);e+=c*(g&a.LENGTH_MASK);c*=128;if(0===(g&a.LENGTH_FIN_MASK))break;if(this._list.length<=b){f=!1;break}}f&&(this.packet.length=
e,this._list.consume(b));return f};e.prototype._parsePayload=function(){var a=!1;if(0===this.packet.length||this._list.length>=this.packet.length){this._pos=0;switch(this.packet.cmd){case "connect":this._parseConnect();break;case "connack":this._parseConnack();break;case "publish":this._parsePublish();break;case "puback":case "pubrec":case "pubrel":case "pubcomp":this._parseMessageId();break;case "subscribe":this._parseSubscribe();break;case "suback":this._parseSuback();break;case "unsubscribe":this._parseUnsubscribe();
break;case "unsuback":this._parseUnsuback();break;case "pingreq":case "pingresp":case "disconnect":break;default:this._emitError(Error("Not supported"))}a=!0}return a};e.prototype._parseConnect=function(){var b,c=this.packet;var e=this._parseString();if(null===e)return this._emitError(Error("Cannot parse protocolId"));if("MQTT"!==e&&"MQIsdp"!==e)return this._emitError(Error("Invalid protocolId"));c.protocolId=e;if(this._pos>=this._list.length)return this._emitError(Error("Packet too short"));c.protocolVersion=
this._list.readUInt8(this._pos);if(3!==c.protocolVersion&&4!==c.protocolVersion)return this._emitError(Error("Invalid protocol version"));this._pos++;if(this._pos>=this._list.length)return this._emitError(Error("Packet too short"));var f=this._list.readUInt8(this._pos)&a.USERNAME_MASK;e=this._list.readUInt8(this._pos)&a.PASSWORD_MASK;if(b=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK)c.will={},c.will.retain=0!==(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),c.will.qos=(this._list.readUInt8(this._pos)&
a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT;c.clean=0!==(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK);this._pos++;c.keepalive=this._parseNum();if(-1===c.keepalive)return this._emitError(Error("Packet too short"));var g=this._parseString();if(null===g)return this._emitError(Error("Packet too short"));c.clientId=g;if(b){g=this._parseString();if(null===g)return this._emitError(Error("Cannot parse will topic"));c.will.topic=g;g=this._parseBuffer();if(null===g)return this._emitError(Error("Cannot parse will payload"));
c.will.payload=g}if(f){f=this._parseString();if(null===f)return this._emitError(Error("Cannot parse username"));c.username=f}if(e){e=this._parseBuffer();if(null===e)return this._emitError(Error("Cannot parse password"));c.password=e}return c};e.prototype._parseConnack=function(){var b=this.packet;if(2>this._list.length)return null;b.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK);b.returnCode=this._list.readUInt8(this._pos);if(-1===b.returnCode)return this._emitError(Error("Cannot parse return code"))};
e.prototype._parsePublish=function(){var a=this.packet;a.topic=this._parseString();if(null===a.topic)return this._emitError(Error("Cannot parse topic"));0<a.qos&&!this._parseMessageId()||(a.payload=this._list.slice(this._pos,a.length))};e.prototype._parseSubscribe=function(){var a=this.packet;if(1!==a.qos)return this._emitError(Error("Wrong subscribe header"));a.subscriptions=[];if(this._parseMessageId())for(;this._pos<a.length;){var b=this._parseString();if(null===b)return this._emitError(Error("Cannot parse topic"));
var c=this._list.readUInt8(this._pos++);a.subscriptions.push({topic:b,qos:c})}};e.prototype._parseSuback=function(){this.packet.granted=[];if(this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))};e.prototype._parseUnsubscribe=function(){var a=this.packet;a.unsubscriptions=[];if(this._parseMessageId())for(;this._pos<a.length;){var b=this._parseString();if(null===b)return this._emitError(Error("Cannot parse topic"));a.unsubscriptions.push(b)}};
e.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(Error("Cannot parse messageId"))};e.prototype._parseMessageId=function(){var a=this.packet;a.messageId=this._parseNum();return null===a.messageId?(this._emitError(Error("Cannot parse messageId")),!1):!0};e.prototype._parseString=function(a){a=this._parseNum();var b=a+this._pos;if(-1===a||b>this._list.length||b>this.packet.length)return null;b=this._list.toString("utf8",this._pos,b);this._pos+=a;return b};e.prototype._parseBuffer=
function(){var a=this._parseNum();var b=a+this._pos;if(-1===a||b>this._list.length||b>this.packet.length)return null;b=this._list.slice(this._pos,b);this._pos+=a;return b};e.prototype._parseNum=function(){if(2>this._list.length-this._pos)return-1;var a=this._list.readUInt16BE(this._pos);this._pos+=2;return a};e.prototype._newPacket=function(){this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet));this.packet=new c;return!0};e.prototype._emitError=function(a){this.error=
a;this.emit("error",a)};m.exports=e},{"./constants":32,"./packet":36,bl:24,events:4,inherits:30}],38:[function(g,m,k){function e(e,g){g.cork&&(g.cork(),p(b,g));F&&(F=!1,G());switch(e.cmd){case "connect":return f(e,g);case "connack":var k=(e||{}).returnCode;"number"!==typeof k?(g.emit("error",Error("Invalid return code")),k=!1):(g.write(t.CONNACK_HEADER),q(g,2),g.write(e.sessionPresent?t.SESSIONPRESENT_HEADER:B),k=g.write(r.from([k])));return k;case "publish":a:{var m=e||{};k=m.qos||0;var D=m.retain?
t.RETAIN_MASK:0,h=m.topic,n=m.payload||y;m=m.messageId;var I=0;if("string"===typeof h)I+=r.byteLength(h)+2;else if(r.isBuffer(h))I+=h.length+2;else{g.emit("error",Error("Invalid topic"));k=!1;break a}I=r.isBuffer(n)?I+n.length:I+r.byteLength(n);k&&"number"!==typeof m?(g.emit("error",Error("Invalid messageId")),k=!1):(k&&(I+=2),g.write(t.PUBLISH_HEADER[k][e.dup?1:0][D?1:0]),q(g,I),z(g,u(h)),g.write(h),0<k&&z(g,m),k=g.write(n))}return k;case "puback":case "pubrec":case "pubrel":case "pubcomp":case "unsuback":return h=
e||{},k=h.cmd||"puback",D=h.messageId,h=h.dup&&"pubrel"===k?t.DUP_MASK:0,n=0,"pubrel"===k&&(n=1),"number"!==typeof D?(g.emit("error",Error("Invalid messageId")),k=!1):(g.write(t.ACKS[k][n][h][0]),q(g,2),k=z(g,D)),k;case "subscribe":return c(e,g);case "suback":return a(e,g);case "unsubscribe":return d(e,g);case "pingreq":case "pingresp":case "disconnect":return g.write(t.EMPTY[e.cmd]);default:return g.emit("error",Error("Unknown command")),!1}}function b(a){a.uncork()}function f(a,b){var c=a||{},d=
c.protocolId||"MQTT",e=c.protocolVersion||4,h=c.will,f=c.clean,g=c.keepalive||0,l=c.clientId||"",k=c.username;c=c.password;void 0===f&&(f=!0);var m=0;if(!d||"string"!==typeof d&&!r.isBuffer(d))return b.emit("error",Error("Invalid protocolId")),!1;m+=d.length+2;if(3!==e&&4!==e)return b.emit("error",Error("Invalid protocol version")),!1;m+=1;if("string"!==typeof l&&!r.isBuffer(l)||!l&&4!==e||!l&&!f){if(4>e)return b.emit("error",Error("clientId must be supplied before 3.1.1")),!1;if(0===1*f)return b.emit("error",
Error("clientId must be given if cleanSession set to 0")),!1}else m+=l.length+2;if("number"!==typeof g||0>g||65535<g||0!==g%1)return b.emit("error",Error("Invalid keepalive")),!1;m=m+2+1;if(h){if("object"!==typeof h)return b.emit("error",Error("Invalid will")),!1;if(h.topic&&"string"===typeof h.topic)m+=r.byteLength(h.topic)+2;else return b.emit("error",Error("Invalid will topic")),!1;if(h.payload&&h.payload)if(0<=h.payload.length)m="string"===typeof h.payload?m+(r.byteLength(h.payload)+2):m+(h.payload.length+
2);else return b.emit("error",Error("Invalid will payload")),!1;else m+=2}if(k)if(k.length)m+=r.byteLength(k)+2;else return b.emit("error",Error("Invalid username")),!1;if(c)if(c.length)m+=u(c)+2;else return b.emit("error",Error("Invalid password")),!1;b.write(t.CONNECT_HEADER);q(b,m);x(b,d);b.write(4===e?t.VERSION4:t.VERSION3);d=0|(k?t.USERNAME_MASK:0);d|=c?t.PASSWORD_MASK:0;d|=h&&h.retain?t.WILL_RETAIN_MASK:0;d|=h&&h.qos?h.qos<<t.WILL_QOS_SHIFT:0;d|=h?t.WILL_FLAG_MASK:0;d|=f?t.CLEAN_SESSION_MASK:
0;b.write(r.from([d]));z(b,g);x(b,l);h&&(w(b,h.topic),x(b,h.payload));k&&x(b,k);c&&x(b,c);return!0}function c(a,b){var c=a||{},d=c.dup?t.DUP_MASK:0,e=c.messageId;c=c.subscriptions;var h=0;if("number"!==typeof e)return b.emit("error",Error("Invalid messageId")),!1;h+=2;if("object"===typeof c&&c.length)for(var f=0;f<c.length;f+=1){var g=c[f].topic,l=c[f].qos;if("string"!==typeof g)return b.emit("error",Error("Invalid subscriptions - invalid topic")),!1;if("number"!==typeof l)return b.emit("error",Error("Invalid subscriptions - invalid qos")),
!1;h+=r.byteLength(g)+2+1}else return b.emit("error",Error("Invalid subscriptions")),!1;b.write(t.SUBSCRIBE_HEADER[1][d?1:0][0]);q(b,h);z(b,e);e=!0;for(d=0;d<c.length;d++)e=c[d],h=e.qos,w(b,e.topic),e=b.write(t.QOS[h]);return e}function a(a,b){var c=a||{},d=c.messageId;c=c.granted;var e=0;if("number"!==typeof d)return b.emit("error",Error("Invalid messageId")),!1;e+=2;if("object"===typeof c&&c.length)for(var h=0;h<c.length;h+=1){if("number"!==typeof c[h])return b.emit("error",Error("Invalid qos vector")),
!1;e+=1}else return b.emit("error",Error("Invalid qos vector")),!1;b.write(t.SUBACK_HEADER);q(b,e);z(b,d);return b.write(r.from(c))}function d(a,b){var c=a||{},d=c.messageId,e=c.dup?t.DUP_MASK:0;c=c.unsubscriptions;var h=0;if("number"!==typeof d)return b.emit("error",Error("Invalid messageId")),!1;h+=2;if("object"===typeof c&&c.length)for(var f=0;f<c.length;f+=1){if("string"!==typeof c[f])return b.emit("error",Error("Invalid unsubscriptions")),!1;h+=r.byteLength(c[f])+2}else return b.emit("error",
Error("Invalid unsubscriptions")),!1;b.write(t.UNSUBSCRIBE_HEADER[1][e?1:0][0]);q(b,h);z(b,d);d=!0;for(e=0;e<c.length;e++)d=w(b,c[e]);return d}function q(a,b){var c=H[b];if(!c){c=b;var d=0,e=r.allocUnsafe(0<=c&&128>c?1:128<=c&&16384>c?2:16384<=c&&2097152>c?3:2097152<=c&&268435456>c?4:0);do{var f=c%128|0;c=c/128|0;0<c&&(f|=128);e.writeUInt8(f,d++,!0)}while(0<c);c=e;16384>b&&(H[b]=c)}a.write(c)}function w(a,b){var c=r.byteLength(b);z(a,c);a.write(b,"utf8")}function A(a,b){return a.write(K[b])}function C(a,
b){return a.write(v(b))}function x(a,b){b&&"string"===typeof b?w(a,b):b?(z(a,b.length),a.write(b)):z(a,0)}function u(a){return a?r.isBuffer(a)?a.length:r.byteLength(a):0}var t=g("./constants"),r=g("safe-buffer").Buffer,y=r.allocUnsafe(0),B=r.from([0]);k=g("./numbers");var p=g("process-nextick-args"),K=k.cache,v=k.generateNumber,G=k.generateCache,z=A,F=!0;Object.defineProperty(e,"cacheNumbers",{get:function(){return z===A},set:function(a){a?(K&&0!==Object.keys(K).length||(F=!0),z=A):(F=!1,z=C)}});
var H={};m.exports=e},{"./constants":32,"./numbers":35,"process-nextick-args":40,"safe-buffer":52}],39:[function(g,m,k){function e(b){var c=function(){if(c.called)return c.value;c.called=!0;return c.value=b.apply(this,arguments)};c.called=!1;return c}function b(b){var c=function(){if(c.called)throw Error(c.onceError);c.called=!0;return c.value=b.apply(this,arguments)};c.onceError=(b.name||"Function wrapped with `once`")+" shouldn't be called more than once";c.called=!1;return c}g=g("wrappy");m.exports=
g(e);m.exports.strict=g(b);e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return b(this)},configurable:!0})})},{wrappy:58}],40:[function(g,m,k){(function(e){function b(b,c,a,d){if("function"!==typeof b)throw new TypeError('"callback" argument must be a function');var f=arguments.length;switch(f){case 0:case 1:return e.nextTick(b);case 2:return e.nextTick(function(){b.call(null,
c)});case 3:return e.nextTick(function(){b.call(null,c,a)});case 4:return e.nextTick(function(){b.call(null,c,a,d)});default:var g=Array(f-1);for(f=0;f<g.length;)g[f++]=arguments[f];return e.nextTick(function(){b.apply(null,g)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?m.exports=b:m.exports=e.nextTick}).call(this,g("_process"))},{_process:7}],41:[function(g,m,k){m.exports=g("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":42}],42:[function(g,
m,k){function e(c){if(!(this instanceof e))return new e(c);a.call(this,c);d.call(this,c);c&&!1===c.readable&&(this.readable=!1);c&&!1===c.writable&&(this.writable=!1);this.allowHalfOpen=!0;c&&!1===c.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||c(f,this)}function f(a){a.end()}var c=g("process-nextick-args");k=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b};m.exports=e;m=g("core-util-is");m.inherits=g("inherits");
var a=g("./_stream_readable"),d=g("./_stream_writable");m.inherits(e,a);g=k(d.prototype);for(m=0;m<g.length;m++)k=g[m],e.prototype[k]||(e.prototype[k]=d.prototype[k]);Object.defineProperty(e.prototype,"destroyed",{get:function(){return void 0===this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}});
e.prototype._destroy=function(a,b){this.push(null);this.end();c(b,a)}},{"./_stream_readable":44,"./_stream_writable":46,"core-util-is":25,inherits:30,"process-nextick-args":40}],43:[function(g,m,k){function e(f){if(!(this instanceof e))return new e(f);b.call(this,f)}m.exports=e;var b=g("./_stream_transform");m=g("core-util-is");m.inherits=g("inherits");m.inherits(e,b);e.prototype._transform=function(b,c,a){a(null,b)}},{"./_stream_transform":45,"core-util-is":25,inherits:30}],44:[function(g,m,k){(function(e,
b){function f(a,b,c){if("function"===typeof a.prependListener)return a.prependListener(b,c);if(a._events&&a._events[b])z(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]];else a.on(b,c)}function c(a,b){F=F||g("./_stream_duplex");a=a||{};this.objectMode=!!a.objectMode;b instanceof F&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var c=a.highWaterMark,d=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:d;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=
new h;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.destroyed=this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1;this.defaultEncoding=a.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(n||(n=g("string_decoder/").StringDecoder),this.decoder=new n(a.encoding),this.encoding=a.encoding)}function a(b){F=F||g("./_stream_duplex");if(!(this instanceof
a))return new a(b);this._readableState=new c(b,this);this.readable=!0;b&&("function"===typeof b.read&&(this._read=b.read),"function"===typeof b.destroy&&(this._destroy=b.destroy));H.call(this)}function d(a,b,c,d,e){var f=a._readableState;if(null===b)f.reading=!1,f.ended||(f.decoder&&(b=f.decoder.end())&&b.length&&(f.buffer.push(b),f.length+=f.objectMode?1:b.length),f.ended=!0,A(a));else{if(!e){e=b;var h;D.isBuffer(e)||e instanceof I||"string"===typeof e||void 0===e||f.objectMode||(h=new TypeError("Invalid non-string/buffer chunk"));
var g=h}g?a.emit("error",g):f.objectMode||b&&0<b.length?("string"===typeof b||f.objectMode||Object.getPrototypeOf(b)===D.prototype||(b=D.from(b)),d?f.endEmitted?a.emit("error",Error("stream.unshift() after end event")):k(a,f,b,!0):f.ended?a.emit("error",Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!c?(b=f.decoder.write(b),f.objectMode||0!==b.length?k(a,f,b,!1):f.readingMore||(f.readingMore=!0,G(x,a,f))):k(a,f,b,!1))):d||(f.reading=!1)}return!f.ended&&(f.needReadable||f.length<f.highWaterMark||
0===f.length)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&A(a));b.readingMore||(b.readingMore=!0,G(x,a,b))}function w(a,b){if(0>=a||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(a!==a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var c=a;8388608<=c?c=8388608:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++);b.highWaterMark=
c}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function A(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||(E("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G(C,a):C(a))}function C(a){E("emit readable");a.emit("readable");y(a)}function x(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(E("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;E("pipeOnDrain",
b.awaitDrain);b.awaitDrain&&b.awaitDrain--;0===b.awaitDrain&&a.listeners("data").length&&(b.flowing=!0,y(a))}}function t(a){E("readable nexttick read 0");a.read(0)}function r(a,b){b.reading||(E("resume read 0"),a.read(0));b.resumeScheduled=!1;b.awaitDrain=0;a.emit("resume");y(a);b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(E("flow",b.flowing);b.flowing&&null!==a.read(););}function B(a,b){if(0===b.length)return null;if(b.objectMode)var c=b.buffer.shift();else if(!a||a>=
b.length)c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear();else{c=b.buffer;var d=b.decoder;if(a<c.head.data.length)d=c.head.data.slice(0,a),c.head.data=c.head.data.slice(a);else{if(a===c.head.data.length)c=c.shift();else if(d){var e=c.head,f=1,h=e.data;for(d=a-h.length;e=e.next;){var g=e.data,l=d>g.length?g.length:d;h=l===g.length?h+g:h+g.slice(0,d);d-=l;if(0===d){l===g.length?(++f,c.head=e.next?e.next:c.tail=null):(c.head=e,e.data=g.slice(l));
break}++f}c.length-=f;c=h}else{d=a;e=D.allocUnsafe(d);f=c.head;h=1;f.data.copy(e);for(d-=f.data.length;f=f.next;){g=f.data;l=d>g.length?g.length:d;g.copy(e,e.length-d,0,l);d-=l;if(0===d){l===g.length?(++h,c.head=f.next?f.next:c.tail=null):(c.head=f,f.data=g.slice(l));break}++h}c.length-=h;c=e}d=c}c=d}return c}function p(a){var b=a._readableState;if(0<b.length)throw Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G(K,b,a))}function K(a,b){a.endEmitted||0!==a.length||(a.endEmitted=
!0,b.readable=!1,b.emit("end"))}function v(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=g("process-nextick-args");m.exports=a;var z=g("isarray"),F;a.ReadableState=c;g("events");var H=g("./internal/streams/stream"),D=g("safe-buffer").Buffer,I=b.Uint8Array||function(){},L=g("core-util-is");L.inherits=g("inherits");var M=g("util"),E=void 0;E=M&&M.debuglog?M.debuglog("stream"):function(){};var h=g("./internal/streams/BufferList");M=g("./internal/streams/destroy");var n;L.inherits(a,
H);var J=["error","close","destroy","pause","resume"];Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0===this._readableState?!1:this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}});a.prototype.destroy=M.destroy;a.prototype._undestroy=M.undestroy;a.prototype._destroy=function(a,b){this.push(null);b(a)};a.prototype.push=function(a,b){var c=this._readableState;if(c.objectMode)var e=!0;else"string"===typeof a&&(b=b||c.defaultEncoding,
b!==c.encoding&&(a=D.from(a,b),b=""),e=!0);return d(this,a,b,!1,e)};a.prototype.unshift=function(a){return d(this,a,null,!0,!1)};a.prototype.isPaused=function(){return!1===this._readableState.flowing};a.prototype.setEncoding=function(a){n||(n=g("string_decoder/").StringDecoder);this._readableState.decoder=new n(a);this._readableState.encoding=a;return this};a.prototype.read=function(a){E("read",a);a=parseInt(a,10);var b=this._readableState,c=a;0!==a&&(b.emittedReadable=!1);if(0===a&&b.needReadable&&
(b.length>=b.highWaterMark||b.ended))return E("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?p(this):A(this),null;a=w(a,b);if(0===a&&b.ended)return 0===b.length&&p(this),null;var d=b.needReadable;E("need readable",d);if(0===b.length||b.length-a<b.highWaterMark)d=!0,E("length less than watermark",d);b.ended||b.reading?E("reading or ended",!1):d&&(E("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=w(c,b)));d=0<a?B(a,
b):null;null===d?(b.needReadable=!0,a=0):b.length-=a;0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&p(this));null!==d&&this.emit("data",d);return d};a.prototype._read=function(a){this.emit("error",Error("_read() is not implemented"))};a.prototype.pipe=function(a,b){function c(b,e){E("onunpipe");b===m&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,E("cleanup"),a.removeListener("close",l),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",g),a.removeListener("unpipe",
c),m.removeListener("end",d),m.removeListener("end",n),m.removeListener("data",h),p=!0,!r.awaitDrain||a._writableState&&!a._writableState.needDrain||q())}function d(){E("onend");a.end()}function h(b){E("ondata");H=!1;!1!==a.write(b)||H||((1===r.pipesCount&&r.pipes===a||1<r.pipesCount&&-1!==v(r.pipes,a))&&!p&&(E("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,H=!0),m.pause())}function g(b){E("onerror",b);n();a.removeListener("error",g);0===a.listeners("error").length&&
a.emit("error",b)}function l(){a.removeListener("finish",k);n()}function k(){E("onfinish");a.removeListener("close",l);n()}function n(){E("unpipe");m.unpipe(a)}var m=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=a;break;case 1:r.pipes=[r.pipes,a];break;default:r.pipes.push(a)}r.pipesCount+=1;E("pipe count=%d opts=%j",r.pipesCount,b);var D=b&&!1===b.end||a===e.stdout||a===e.stderr?n:d;if(r.endEmitted)G(D);else m.once("end",D);a.on("unpipe",c);var q=u(m);a.on("drain",q);var p=!1,H=
!1;m.on("data",h);f(a,"error",g);a.once("close",l);a.once("finish",k);a.emit("pipe",m);r.flowing||(E("pipe resume"),m.resume());return a};a.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this,c);return this}if(!a){a=b.pipes;var d=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=!1;for(b=0;b<d;b++)a[b].emit("unpipe",
this,c);return this}d=v(b.pipes,a);if(-1===d)return this;b.pipes.splice(d,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this,c);return this};a.prototype.on=function(a,b){var c=H.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&A(this):G(t,this))}return c};a.prototype.addListener=
a.prototype.on;a.prototype.resume=function(){var a=this._readableState;a.flowing||(E("resume"),a.flowing=!0,a.resumeScheduled||(a.resumeScheduled=!0,G(r,this,a)));return this};a.prototype.pause=function(){E("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};a.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){E("wrapped end");if(b.decoder&&!b.ended){var a=
b.decoder.end();a&&a.length&&d.push(a)}d.push(null)});a.on("data",function(e){E("wrapped data");b.decoder&&(e=b.decoder.write(e));b.objectMode&&(null===e||void 0===e)||!(b.objectMode||e&&e.length)||d.push(e)||(c=!0,a.pause())});for(var e in a)void 0===this[e]&&"function"===typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(e=0;e<J.length;e++)a.on(J[e],d.emit.bind(d,J[e]));d._read=function(b){E("wrapped _read",b);c&&(c=!1,a.resume())};return d};a._fromList=
B}).call(this,g("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":42,"./internal/streams/BufferList":47,"./internal/streams/destroy":48,"./internal/streams/stream":49,_process:7,"core-util-is":25,events:4,inherits:30,isarray:31,"process-nextick-args":40,"safe-buffer":52,"string_decoder/":54,util:2}],45:[function(g,m,k){function e(a){this.afterTransform=function(b,c){var d=a._transformState;d.transforming=!1;var e=
d.writecb;e?(d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b),d=a._readableState,d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&a._read(d.highWaterMark),d=void 0):d=a.emit("error",Error("write callback called multiple times"));return d};this.transforming=this.needTransform=!1;this.writeencoding=this.writechunk=this.writecb=null}function b(a){if(!(this instanceof b))return new b(a);c.call(this,a);this._transformState=new e(this);var d=this;this._readableState.needReadable=
!0;this._readableState.sync=!1;a&&("function"===typeof a.transform&&(this._transform=a.transform),"function"===typeof a.flush&&(this._flush=a.flush));this.once("prefinish",function(){"function"===typeof this._flush?this._flush(function(a,b){f(d,a,b)}):f(d)})}function f(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);b=a._transformState;if(a._writableState.length)throw Error("Calling transform done when ws.length != 0");if(b.transforming)throw Error("Calling transform done when still transforming");
return a.push(null)}m.exports=b;var c=g("./_stream_duplex");m=g("core-util-is");m.inherits=g("inherits");m.inherits(b,c);b.prototype.push=function(a,b){this._transformState.needTransform=!1;return c.prototype.push.call(this,a,b)};b.prototype._transform=function(a,b,c){throw Error("_transform() is not implemented");};b.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||a.length<
a.highWaterMark)&&this._read(a.highWaterMark))};b.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0};b.prototype._destroy=function(a,b){var d=this;c.prototype._destroy.call(this,a,function(a){b(a);d.emit("close")})}},{"./_stream_duplex":42,"core-util-is":25,inherits:30}],46:[function(g,m,k){(function(e,b){function f(a){var b=this;this.entry=this.next=
null;this.finish=function(){var c=b.entry;for(b.entry=null;c;){var d=c.callback;a.pendingcb--;d(void 0);c=c.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}function c(){}function a(a,b){y=y||g("./_stream_duplex");a=a||{};this.objectMode=!!a.objectMode;b instanceof y&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var c=a.highWaterMark,d=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:d;this.highWaterMark=Math.floor(this.highWaterMark);this.destroyed=
this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){var c=b._writableState,d=c.sync,e=c.writecb;c.writing=!1;c.writecb=null;c.length-=c.writelen;c.writelen=0;a?(--c.pendingcb,d?(t(e,a),t(u,b,c),b._writableState.errorEmitted=!0,b.emit("error",a)):(e(a),b._writableState.errorEmitted=!0,b.emit("error",
a),u(b,c))):((a=C(c))||c.corked||c.bufferProcessing||!c.bufferedRequest||A(b,c),d?r(w,b,c,a,e):w(b,c,a,e))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new f(this)}function d(b){y=y||g("./_stream_duplex");if(!(F.call(d,this)||this instanceof y))return new d(b);this._writableState=new a(b,this);this.writable=!0;b&&("function"===typeof b.write&&(this._write=
b.write),"function"===typeof b.writev&&(this._writev=b.writev),"function"===typeof b.destroy&&(this._destroy=b.destroy),"function"===typeof b["final"]&&(this._final=b["final"]));K.call(this)}function k(a,b,c,d,e,f,h){b.writelen=d;b.writecb=h;b.writing=!0;b.sync=!0;c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite);b.sync=!1}function w(a,b,c,d){!c&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));b.pendingcb--;d();u(a,b)}function A(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&
c&&c.next){var d=Array(b.bufferedRequestCount),e=b.corkedRequestsFree;e.entry=c;for(var g=0,h=!0;c;)d[g]=c,c.isBuf||(h=!1),c=c.next,g+=1;d.allBuffers=h;k(a,b,!0,b.length,d,"",e.finish);b.pendingcb++;b.lastBufferedRequest=null;e.next?(b.corkedRequestsFree=e.next,e.next=null):b.corkedRequestsFree=new f(b)}else{for(;c&&(d=c.chunk,k(a,b,!1,b.objectMode?1:d.length,d,c.encoding,c.callback),c=c.next,!b.writing););null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0;b.bufferedRequest=c;b.bufferProcessing=
!1}function C(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function x(a,b){a._final(function(c){b.pendingcb--;c&&a.emit("error",c);b.prefinished=!0;a.emit("prefinish");u(a,b)})}function u(a,b){var c=C(b);c&&(b.prefinished||b.finalCalled||("function"===typeof a._final?(b.pendingcb++,b.finalCalled=!0,t(x,a,b)):(b.prefinished=!0,a.emit("prefinish"))),0===b.pendingcb&&(b.finished=!0,a.emit("finish")));return c}var t=g("process-nextick-args");m.exports=d;var r=!e.browser&&
-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?setImmediate:t,y;d.WritableState=a;var B=g("core-util-is");B.inherits=g("inherits");var p={deprecate:g("util-deprecate")},K=g("./internal/streams/stream"),v=g("safe-buffer").Buffer,G=b.Uint8Array||function(){},z=g("./internal/streams/destroy");B.inherits(d,K);a.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(a.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},
"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(H){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var F=Function.prototype[Symbol.hasInstance];Object.defineProperty(d,Symbol.hasInstance,{value:function(b){return F.call(this,b)?!0:b&&b._writableState instanceof a}})}else F=function(a){return a instanceof this};d.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};
d.prototype.write=function(a,b,d){var e=this._writableState,f=!1,g=a;(g=(v.isBuffer(g)||g instanceof G)&&!e.objectMode)&&!v.isBuffer(a)&&(a=v.from(a));"function"===typeof b&&(d=b,b=null);g?b="buffer":b||(b=e.defaultEncoding);"function"!==typeof d&&(d=c);if(e.ended)e=d,d=Error("write after end"),this.emit("error",d),t(e,d);else{var h;if(!(h=g)){h=a;var n=d,m=!0,l=!1;null===h?l=new TypeError("May not write null values to stream"):"string"===typeof h||void 0===h||e.objectMode||(l=new TypeError("Invalid non-string/buffer chunk"));
l&&(this.emit("error",l),t(n,l),m=!1);h=m}h&&(e.pendingcb++,f=g,f||(g=a,e.objectMode||!1===e.decodeStrings||"string"!==typeof g||(g=v.from(g,b)),a!==g&&(f=!0,b="buffer",a=g)),h=e.objectMode?1:a.length,e.length+=h,g=e.length<e.highWaterMark,g||(e.needDrain=!0),e.writing||e.corked?(h=e.lastBufferedRequest,e.lastBufferedRequest={chunk:a,encoding:b,isBuf:f,callback:d,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):k(this,e,!1,h,a,b,d),f=g)}return f};
d.prototype.cork=function(){this._writableState.corked++};d.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||A(this,a))};d.prototype.setDefaultEncoding=function(a){"string"===typeof a&&(a=a.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((a+"").toLowerCase())))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=
a;return this};d.prototype._write=function(a,b,c){c(Error("_write() is not implemented"))};d.prototype._writev=null;d.prototype.end=function(a,b,c){var d=this._writableState;"function"===typeof a?(c=a,b=a=null):"function"===typeof b&&(c=b,b=null);null!==a&&void 0!==a&&this.write(a,b);d.corked&&(d.corked=1,this.uncork());if(!d.ending&&!d.finished){a=c;d.ending=!0;u(this,d);if(a)if(d.finished)t(a);else this.once("finish",a);d.ended=!0;this.writable=!1}};Object.defineProperty(d.prototype,"destroyed",
{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}});d.prototype.destroy=z.destroy;d.prototype._undestroy=z.undestroy;d.prototype._destroy=function(a,b){this.end();b(a)}}).call(this,g("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":42,"./internal/streams/destroy":48,"./internal/streams/stream":49,_process:7,
"core-util-is":25,inherits:30,"process-nextick-args":40,"safe-buffer":52,"util-deprecate":55}],47:[function(g,m,k){var e=g("safe-buffer").Buffer;m.exports=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.tail=this.head=null;this.length=0}b.prototype.push=function(b){b={data:b,next:null};0<this.length?this.tail.next=b:this.head=b;this.tail=b;++this.length};b.prototype.unshift=function(b){b={data:b,next:this.head};0===this.length&&(this.tail=
b);this.head=b;++this.length};b.prototype.shift=function(){if(0!==this.length){var b=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return b}};b.prototype.clear=function(){this.head=this.tail=null;this.length=0};b.prototype.join=function(b){if(0===this.length)return"";for(var c=this.head,a=""+c.data;c=c.next;)a+=b+c.data;return a};b.prototype.concat=function(b){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;b=e.allocUnsafe(b>>>0);
for(var c=this.head,a=0;c;)c.data.copy(b,a),a+=c.data.length,c=c.next;return b};return b}()},{"safe-buffer":52}],48:[function(g,m,k){function e(b,c){b.emit("error",c)}var b=g("process-nextick-args");m.exports={destroy:function(f,c){var a=this,d=this._writableState&&this._writableState.destroyed;this._readableState&&this._readableState.destroyed||d?c?c(f):!f||this._writableState&&this._writableState.errorEmitted||b(e,this,f):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&
(this._writableState.destroyed=!0),this._destroy(f||null,function(d){!c&&d?(b(e,a,d),a._writableState&&(a._writableState.errorEmitted=!0)):c&&c(d)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=
!1)}}},{"process-nextick-args":40}],49:[function(g,m,k){m.exports=g("events").EventEmitter},{events:4}],50:[function(g,m,k){k=m.exports=g("./lib/_stream_readable.js");k.Stream=k;k.Readable=k;k.Writable=g("./lib/_stream_writable.js");k.Duplex=g("./lib/_stream_duplex.js");k.Transform=g("./lib/_stream_transform.js");k.PassThrough=g("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":42,"./lib/_stream_passthrough.js":43,"./lib/_stream_readable.js":44,"./lib/_stream_transform.js":45,"./lib/_stream_writable.js":46}],
51:[function(g,m,k){function e(b,e,c){var a=this;this._callback=b;this._args=c;this._interval=setInterval(b,e,this._args);this.reschedule=function(b){b||(b=a._interval);a._interval&&clearInterval(a._interval);a._interval=setInterval(a._callback,b,a._args)};this.clear=function(){a._interval&&(clearInterval(a._interval),a._interval=void 0)};this.destroy=function(){a._interval&&clearInterval(a._interval);a._callback=void 0;a._interval=void 0;a._args=void 0}}m.exports=function(){if("function"!==typeof arguments[0])throw Error("callback needed");
if("number"!==typeof arguments[1])throw Error("interval needed");if(0<arguments.length){var b=Array(arguments.length-2);for(var f=0;f<b.length;f++)b[f]=arguments[f+2]}return new e(arguments[0],arguments[1],b)}},{}],52:[function(g,m,k){function e(a,b){for(var c in a)b[c]=a[c]}function b(a,b,e){return c(a,b,e)}var f=g("buffer"),c=f.Buffer;c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?m.exports=f:(e(f,k),k.Buffer=b);e(c,b);b.from=function(a,b,e){if("number"===typeof a)throw new TypeError("Argument must not be a number");
return c(a,b,e)};b.alloc=function(a,b,e){if("number"!==typeof a)throw new TypeError("Argument must be a number");a=c(a);void 0!==b?"string"===typeof e?a.fill(b,e):a.fill(b):a.fill(0);return a};b.allocUnsafe=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return c(a)};b.allocUnsafeSlow=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{buffer:3}],53:[function(g,m,k){m.exports=function(e){var b=e._readableState;
return b?b.objectMode?e.read():e.read(b.buffer.length?b.buffer.head?b.buffer.head.data.length:b.buffer[0].length:b.length):null}},{}],54:[function(g,m,k){function e(a){if(!a)return"utf8";for(var b;;)switch(a){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return a;default:if(b)return;a=(""+a).toLowerCase();b=!0}}function b(b){var c=e(b);if("string"!==typeof c&&
(u.isEncoding===t||!t(b)))throw Error("Unknown encoding: "+b);this.encoding=c||b;switch(this.encoding){case "utf16le":this.text=d;this.end=q;b=4;break;case "utf8":this.fillLast=a;b=4;break;case "base64":this.text=w;this.end=A;b=3;break;default:this.write=C;this.end=x;return}this.lastTotal=this.lastNeed=0;this.lastChar=u.allocUnsafe(b)}function f(a){return 127>=a?0:6===a>>5?2:14===a>>4?3:30===a>>3?4:-1}function c(a,b,c){var d=b.length-1;if(d<c)return 0;var e=f(b[d]);if(0<=e)return 0<e&&(a.lastNeed=
e-1),e;if(--d<c)return 0;e=f(b[d]);if(0<=e)return 0<e&&(a.lastNeed=e-2),e;if(--d<c)return 0;e=f(b[d]);return 0<=e?(0<e&&(2===e?e=0:a.lastNeed=e-3),e):0}function a(a){var b=this.lastTotal-this.lastNeed;a:if(128!==(a[0]&192)){this.lastNeed=0;var c="\ufffd".repeat(b)}else{if(1<this.lastNeed&&1<a.length){if(128!==(a[1]&192)){this.lastNeed=1;c="\ufffd".repeat(b+1);break a}if(2<this.lastNeed&&2<a.length&&128!==(a[2]&192)){this.lastNeed=2;c="\ufffd".repeat(b+2);break a}}c=void 0}if(void 0!==c)return c;if(this.lastNeed<=
a.length)return a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,b,0,a.length);this.lastNeed-=a.length}function d(a,b){if(0===(a.length-b)%2){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(55296<=d&&56319>=d)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=a[a.length-1];return a.toString("utf16le",
b,a.length-1)}function q(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):a}function w(a,b){var c=(a.length-b)%3;if(0===c)return a.toString("base64",b);this.lastNeed=3-c;this.lastTotal=3;1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]);return a.toString("base64",b,a.length-c)}function A(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("base64",
0,3-this.lastNeed):a}function C(a){return a.toString(this.encoding)}function x(a){return a&&a.length?this.write(a):""}var u=g("safe-buffer").Buffer,t=u.isEncoding||function(a){a=""+a;switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};k.StringDecoder=b;b.prototype.write=function(a){if(0===a.length)return"";if(this.lastNeed){var b=this.fillLast(a);if(void 0===
b)return"";var c=this.lastNeed;this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""};b.prototype.end=function(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+"\ufffd".repeat(this.lastTotal-this.lastNeed):a};b.prototype.text=function(a,b){var d=c(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=d;d=a.length-(d-this.lastNeed);a.copy(this.lastChar,0,d);return a.toString("utf8",b,d)};b.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,
this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length);this.lastNeed-=a.length}},{"safe-buffer":52}],55:[function(g,m,k){(function(e){function b(b){try{if(!e.localStorage)return!1}catch(c){return!1}b=e.localStorage[b];return null==b?!1:"true"===String(b).toLowerCase()}m.exports=function(e,c){if(b("noDeprecation"))return e;var a=!1;return function(){if(!a){if(b("throwDeprecation"))throw Error(c);
b("traceDeprecation")?console.trace(c):console.warn(c);a=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],56:[function(g,m,k){(function(e,b){function f(a,b,d){a=new c({objectMode:a.objectMode});a._destroyed=!1;a._write=b;a._flush=d;a.destroy=function(a){if(!this._destroyed){this._destroyed=!0;var b=this;e.nextTick(function(){a&&b.emit("error",a);b.emit("close")})}};return a}var c=g("readable-stream").Transform,
a=g("duplexify"),d=g("ws"),k=g("safe-buffer").Buffer;m.exports=function(c,g,m){function q(a,b,c){z.readyState!==d.OPEN?c():(H&&"string"===typeof a&&(a=new k(a,"utf8")),z.send(a,c))}function u(a,b,c){if(z.bufferedAmount>v)setTimeout(u,C,a,b,c);else{H&&"string"===typeof a&&(a=new k(a,"utf8"));try{z.send(a)}catch(M){return c(M)}c()}}function t(){F.setReadable(A);F.setWritable(A);F.emit("connect")}function r(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]="string"===typeof a[d].chunk?k.from(a[d],
"utf8"):a[d].chunk;this._write(k.concat(c),"binary",b)}var w="browser"===e.title,B=!!b.WebSocket,p=w?u:q;g&&!Array.isArray(g)&&"object"===typeof g&&(m=g,g=null,"string"===typeof m.protocol||Array.isArray(m.protocol))&&(g=m.protocol);m||(m={});void 0===m.objectMode&&(m.objectMode=!(!0===m.binary||void 0===m.binary));var A=f(m,p,function(a){z.close();a()});m.objectMode||(A._writev=r);var v=m.browserBufferSize||524288,C=m.browserBufferTimeout||1E3;if("object"===typeof c)var z=c;else z=B&&w?new d(c,g):
new d(c,g,m),z.binaryType="arraybuffer";if(z.readyState===d.OPEN)var F=A;else F=a.obj(),z.onopen=t;F.socket=z;z.onclose=function(){F.end();F.destroy()};z.onerror=function(a){F.destroy(a)};z.onmessage=function(a){a=a.data;a=a instanceof ArrayBuffer?k.from(new Uint8Array(a)):k.from(a,"utf8");A.push(a)};A.on("close",function(){z.close()});var H=!m.objectMode;return F}}).call(this,g("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:7,
duplexify:26,"readable-stream":50,"safe-buffer":52,ws:57}],57:[function(g,m,k){m.exports="undefined"!==typeof WebSocket?WebSocket:"undefined"!==typeof MozWebSocket?MozWebSocket:window.WebSocket||window.MozWebSocket},{}],58:[function(g,m,k){function e(b,f){function c(){for(var a=Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];var e=b.apply(this,a),f=a[a.length-1];"function"===typeof e&&e!==f&&Object.keys(f).forEach(function(a){e[a]=f[a]});return e}if(b&&f)return e(b)(f);if("function"!==
typeof b)throw new TypeError("need wrapper function");Object.keys(b).forEach(function(a){c[a]=b[a]});return c}m.exports=e},{}],59:[function(g,m,k){m.exports=function(){for(var b={},f=0;f<arguments.length;f++){var c=arguments[f],a;for(a in c)e.call(c,a)&&(b[a]=c[a])}return b};var e=Object.prototype.hasOwnProperty},{}]},{},[23])(23)});